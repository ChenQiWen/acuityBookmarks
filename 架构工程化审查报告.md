# ğŸ” AcuityBookmarks æ¶æ„ä¸å·¥ç¨‹åŒ–å®¡æŸ¥æŠ¥å‘Š

ç”Ÿæˆæ—¶é—´ï¼š2025-01-XX  
å®¡æŸ¥èŒƒå›´ï¼šé¡¹ç›®æ¶æ„åˆ†å±‚ã€å·¥ç¨‹åŒ–é…ç½®ã€ä»£ç ç»„ç»‡

---

## ğŸ“‹ æ‰§è¡Œæ‘˜è¦

**æ€»ä½“è¯„ä»·**ï¼šæ¶æ„è®¾è®¡ç†å¿µæ¸…æ™°ï¼ˆDDDåˆ†å±‚ï¼‰ï¼Œä½†å­˜åœ¨æ˜æ˜¾çš„åˆ†å±‚è¿è§„å’ŒèŒè´£ä¸æ¸…é—®é¢˜ã€‚å·¥ç¨‹åŒ–é…ç½®å®Œå–„ä½†è¿‡åº¦å¤æ‚ï¼Œéœ€è¦ç®€åŒ–ã€‚

**å…³é”®é—®é¢˜**ï¼š

- ğŸ”´ **ä¸¥é‡**ï¼šæ¶æ„åˆ†å±‚è¿è§„ï¼ˆcoreä¾èµ–infrastructureã€presentationå±‚ç¼ºå¤±ï¼‰
- ğŸŸ¡ **ä¸­ç­‰**ï¼šèŒè´£ä¸æ¸…ï¼ˆservicesä¸applicationé‡å ï¼‰
- ğŸŸ¡ **ä¸­ç­‰**ï¼šå·¥ç¨‹åŒ–é…ç½®è¿‡åº¦å¤æ‚
- ğŸŸ¢ **è½»å¾®**ï¼šç¼ºå°‘å¾ªç¯ä¾èµ–æ£€æµ‹

---

## ğŸš¨ ä¸€ã€æ¶æ„åˆ†å±‚é—®é¢˜ï¼ˆä¸¥é‡ï¼‰

### 1.1 Core å±‚è¿è§„ä¾èµ– Infrastructure

**é—®é¢˜**ï¼š`core/` å±‚ç›´æ¥ä¾èµ– `infrastructure/` å±‚çš„ loggerï¼Œè¿åäº† DDD çš„åˆ†å±‚åŸåˆ™ã€‚

**è¿è§„ä½ç½®**ï¼š

```typescript
// âŒ core/query-engine/unified-query-service.ts
import { logger } from '@/infrastructure/logging/logger'

// âŒ core/query-engine/query-cache.ts
import { logger } from '@/infrastructure/logging/logger'

// âŒ core/bookmark/services/bookmark-converters.ts
import type { BookmarkRecord } from '@/infrastructure/indexeddb/schema'

// âŒ core/bookmark/repositories/bookmark-repository.ts
import { logger } from '@/infrastructure/logging/logger'
```

**å½±å“**ï¼š

- Core å±‚å¤±å»ç‹¬ç«‹æ€§ï¼Œæ— æ³•ç‹¬ç«‹æµ‹è¯•
- è¿åäº† DDD çš„åˆ†å±‚åŸåˆ™ï¼šCore å±‚ä¸åº”è¯¥ä¾èµ– Infrastructure å±‚
- å¢åŠ äº†è€¦åˆåº¦ï¼Œéš¾ä»¥è¿ç§»åˆ°å…¶ä»–å¹³å°

**è§£å†³æ–¹æ¡ˆ**ï¼š

**æ–¹æ¡ˆAï¼šä¾èµ–æ³¨å…¥ï¼ˆæ¨èï¼‰**

```typescript
// core/common/logger.ts
export interface ILogger {
  debug(namespace: string, message: string, ...args: unknown[]): void
  info(namespace: string, message: string, ...args: unknown[]): void
  warn(namespace: string, message: string, ...args: unknown[]): void
  error(namespace: string, message: string, ...args: unknown[]): void
}

// core/query-engine/unified-query-service.ts
import type { ILogger } from '@/core/common/logger'

export class UnifiedQueryService {
  constructor(private logger: ILogger) {}
  // ...
}

// infrastructure/logging/logger.ts
import { logger as infraLogger } from './logger'
import type { ILogger } from '@/core/common/logger'

export const loggerAdapter: ILogger = {
  debug: (ns, msg, ...args) => infraLogger.debug(ns, msg, ...args)
  // ...
}
```

**æ–¹æ¡ˆBï¼šä½¿ç”¨äº‹ä»¶ç³»ç»Ÿï¼ˆå¤‡é€‰ï¼‰**

```typescript
// core/ å±‚ä¸ç›´æ¥è®°å½•æ—¥å¿—ï¼Œè€Œæ˜¯å‘å‡ºäº‹ä»¶
emitEvent('core:query:debug', { namespace, message, args })

// infrastructure/ å±‚ç›‘å¬äº‹ä»¶å¹¶è®°å½•æ—¥å¿—
onEvent('core:query:debug', ({ namespace, message, args }) => {
  logger.debug(namespace, message, ...args)
})
```

---

### 1.2 Presentation å±‚ç¼ºå¤±

**é—®é¢˜**ï¼š`presentation/` ç›®å½•ä¸ºç©ºï¼Œä½†ç»„ä»¶ç›´æ¥è®¿é—® `infrastructure/` å±‚ã€‚

**è¿è§„ä½ç½®**ï¼š

```typescript
// âŒ components/composite/BookmarkSearchInput/BookmarkSearchInput.vue
import { indexedDBManager } from '@/infrastructure/indexeddb/manager'

// âŒ components/composite/BookmarkTree/TreeNode.vue
import { logger } from '@/infrastructure/logging/logger'

// âŒ pages/management/Management.vue
import { logger } from '@/infrastructure/logging/logger'
import { onEvent } from '@/infrastructure/events/event-bus'
```

**å½±å“**ï¼š

- ç»„ä»¶å±‚ç›´æ¥ä¾èµ–åŸºç¡€è®¾æ–½ï¼Œè¿ååˆ†å±‚æ¶æ„
- éš¾ä»¥æ›¿æ¢åº•å±‚å®ç°ï¼ˆå¦‚å°† IndexedDB æ›¿æ¢ä¸ºå…¶ä»–å­˜å‚¨ï¼‰
- ç»„ä»¶æ— æ³•ç‹¬ç«‹æµ‹è¯•

**è§£å†³æ–¹æ¡ˆ**ï¼š

**åˆ›å»º Presentation å±‚é€‚é…å™¨**ï¼š

```typescript
// presentation/adapters/bookmark-adapter.ts
import { bookmarkAppService } from '@/application/bookmark/bookmark-app-service'
import type { BookmarkRecord } from '@/infrastructure/indexeddb/types'

export class BookmarkPresentationAdapter {
  async getBookmark(id: string): Promise<BookmarkRecord | null> {
    return bookmarkAppService.getBookmark(id)
  }

  async searchBookmarks(query: string): Promise<BookmarkRecord[]> {
    const result = await queryAppService.search(query)
    return result.results.map(r => r.bookmark)
  }
}

// components/ ä¸­ä½¿ç”¨
import { bookmarkPresentationAdapter } from '@/presentation/adapters/bookmark-adapter'
```

**æˆ–ä½¿ç”¨ Composable å°è£…**ï¼š

```typescript
// presentation/composables/useBookmarkData.ts
import { bookmarkAppService } from '@/application/bookmark/bookmark-app-service'

export function useBookmarkData() {
  const getBookmark = async (id: string) => {
    return bookmarkAppService.getBookmark(id)
  }

  return { getBookmark }
}

// components/ ä¸­ä½¿ç”¨
import { useBookmarkData } from '@/presentation/composables/useBookmarkData'
```

---

### 1.3 Infrastructure å±‚å¯¼å‡º Application å±‚ï¼ˆä¸¥é‡è¿è§„ï¼‰

**é—®é¢˜**ï¼š`infrastructure/index.ts` å¯¼å‡ºäº† `application` å±‚çš„æœåŠ¡ã€‚

**è¿è§„ä½ç½®**ï¼š

```typescript
// âŒ infrastructure/index.ts:32
export * from '@/application/settings/settings-app-service'
```

**å½±å“**ï¼š

- è¿åäº†ä¾èµ–æ–¹å‘ï¼šInfrastructure â†’ Applicationï¼ˆåº”è¯¥æ˜¯ Application â†’ Infrastructureï¼‰
- é€ æˆäº†å¾ªç¯ä¾èµ–çš„å¯èƒ½æ€§
- ç ´ååˆ†å±‚æ¶æ„çš„æ¸…æ™°æ€§

**è§£å†³æ–¹æ¡ˆ**ï¼š

```typescript
// âœ… infrastructure/index.ts - ç§»é™¤ application å±‚çš„å¯¼å‡º
// åªå¯¼å‡ºåŸºç¡€è®¾æ–½å±‚çš„å†…å®¹

// âœ… application/index.ts - ç»Ÿä¸€å¯¼å‡ºåº”ç”¨å±‚æœåŠ¡
export * from './settings/settings-app-service'
```

---

## âš ï¸ äºŒã€èŒè´£ä¸æ¸…é—®é¢˜ï¼ˆä¸­ç­‰ï¼‰

### 2.1 Services ä¸ Application å±‚èŒè´£é‡å 

**é—®é¢˜**ï¼š`services/` å’Œ `application/` ç›®å½•éƒ½åŒ…å«åº”ç”¨æœåŠ¡ï¼ŒèŒè´£ä¸æ¸…ã€‚

**å½“å‰çŠ¶æ€**ï¼š

- `services/`ï¼šåŒ…å« `bookmark-sync-service.ts`ã€`bookmark-health-service.ts`ã€`favicon-service.ts` ç­‰
- `application/`ï¼šåŒ…å« `bookmark-app-service.ts`ã€`health-app-service.ts`ã€`settings-app-service.ts` ç­‰

**åˆ†æ**ï¼š

- `services/` ç›®å½•çš„ README è¯´æ˜å®ƒæ˜¯"ç»Ÿä¸€åº”ç”¨æœåŠ¡ä¸æ ¸å¿ƒèƒ½åŠ›"
- ä½†å®é™…ä¸Š `application/` æ‰æ˜¯æ ‡å‡†çš„åº”ç”¨å±‚

**è§£å†³æ–¹æ¡ˆ**ï¼š

**æ–¹æ¡ˆAï¼šè¿ç§»åˆ° Application å±‚ï¼ˆæ¨èï¼‰**

```bash
# è¿ç§»æ­¥éª¤
1. å°† services/bookmark-sync-service.ts â†’ application/bookmark/bookmark-sync-service.ts
2. å°† services/bookmark-health-service.ts â†’ application/health/bookmark-health-service.ts
3. å°† services/favicon-service.ts â†’ application/bookmark/favicon-service.ts
4. æ›´æ–°æ‰€æœ‰å¼•ç”¨è·¯å¾„
5. åˆ é™¤ services/ ç›®å½•ï¼ˆæˆ–ä¿ç•™ä»…ç”¨äº Background Script çš„ç‰¹æ®ŠæœåŠ¡ï¼‰
```

**æ–¹æ¡ˆBï¼šæ˜ç¡®èŒè´£è¾¹ç•Œ**

```
services/          â†’ Background Script ä¸“ç”¨æœåŠ¡ï¼ˆå¦‚ bookmark-sync-serviceï¼‰
application/       â†’ å‰ç«¯åº”ç”¨æœåŠ¡ï¼ˆä¾› UI å±‚è°ƒç”¨ï¼‰
```

**å»ºè®®**ï¼šé‡‡ç”¨æ–¹æ¡ˆAï¼Œç»Ÿä¸€ä½¿ç”¨ `application/` ä½œä¸ºåº”ç”¨æœåŠ¡å±‚ã€‚

---

### 2.2 Background Script æœåŠ¡ä½ç½®ä¸æ¸…

**é—®é¢˜**ï¼šBackground Script ä½¿ç”¨çš„æœåŠ¡åˆ†å¸ƒåœ¨å¤šä¸ªä½ç½®ï¼š

- `background/`ï¼šèƒŒæ™¯è„šæœ¬ä¸»é€»è¾‘
- `services/`ï¼šéƒ¨åˆ†æœåŠ¡ï¼ˆå¦‚ `bookmark-sync-service.ts`ï¼‰
- `application/`ï¼šéƒ¨åˆ†æœåŠ¡ï¼ˆå¦‚ `bookmark-app-service.ts`ï¼‰

**å»ºè®®**ï¼š

```
background/        â†’ Background Script å…¥å£å’Œæ¶ˆæ¯å¤„ç†
services/          â†’ Background Script ä¸“ç”¨æœåŠ¡ï¼ˆä¸å‰ç«¯åº”ç”¨å±‚éš”ç¦»ï¼‰
application/       â†’ å‰ç«¯åº”ç”¨æœåŠ¡ï¼ˆä¾› UI å±‚è°ƒç”¨ï¼‰
```

---

## ğŸ› ï¸ ä¸‰ã€å·¥ç¨‹åŒ–é…ç½®é—®é¢˜ï¼ˆä¸­ç­‰ï¼‰

### 3.1 ESLint é…ç½®è¿‡åº¦å¤æ‚

**é—®é¢˜**ï¼š`eslint.config.js` æœ‰ 419 è¡Œï¼Œé…ç½®è¿‡äºå¤æ‚ï¼ŒåŒ…å«å¤§é‡é‡å¤è§„åˆ™ã€‚

**å½“å‰é—®é¢˜**ï¼š

- å¤šä¸ªæ–‡ä»¶ç±»å‹é…ç½®å—é‡å¤å®šä¹‰ç›¸åŒè§„åˆ™
- å…¨å±€å˜é‡å®šä¹‰é‡å¤
- éš¾ä»¥ç»´æŠ¤å’Œæ‰©å±•

**ä¼˜åŒ–å»ºè®®**ï¼š

```javascript
// eslint.config.base.js - æå–å…¬å…±é…ç½®
export const baseConfig = {
  rules: {
    'no-console': 'off',
    'no-debugger': 'error',
    'prefer-const': 'error'
    // ... å…¬å…±è§„åˆ™
  }
}

// eslint.config.js - ç®€åŒ–ä¸»é…ç½®
import { baseConfig } from './eslint.config.base.js'

export default [
  baseConfig,
  // ç‰¹å®šæ–‡ä»¶ç±»å‹çš„è¦†ç›–é…ç½®
  {
    files: ['**/*.vue']
    // Vue ç‰¹å®šè§„åˆ™
  }
]
```

**æˆ–ä½¿ç”¨é…ç½®ç»§æ‰¿**ï¼š

```javascript
// eslint.config.base.js
export const baseRules = {
  /* ... */
}

// eslint.config.js
import { baseRules } from './eslint.config.base.js'

export default [
  {
    rules: baseRules
    // é€šç”¨é…ç½®
  },
  {
    files: ['**/*.vue'],
    rules: {
      ...baseRules
      // Vue ç‰¹å®šè¦†ç›–
    }
  }
]
```

---

### 3.2 Vite é…ç½®ä¸­çš„ Hack ä»£ç 

**é—®é¢˜**ï¼š`vite.config.ts` ä¸­çš„ `serviceWorkerCompatPlugin` ä½¿ç”¨å­—ç¬¦ä¸²æ›¿æ¢æ¥ä¿®å¤ Service Worker å…¼å®¹æ€§ã€‚

**å½“å‰å®ç°**ï¼š

```typescript
// vite.config.ts:11-61
function serviceWorkerCompatPlugin() {
  // ä½¿ç”¨å­—ç¬¦ä¸²æ›¿æ¢ä¿®å¤ document è®¿é—®
  code = code.replace(/document\.getElementsByTagName\("link"\)/g, ...)
}
```

**é—®é¢˜**ï¼š

- å­—ç¬¦ä¸²æ›¿æ¢ä¸å¯é ï¼Œå¯èƒ½è¯¯æ›¿æ¢
- åº”è¯¥åœ¨æºç å±‚é¢è§£å†³ï¼Œè€Œä¸æ˜¯æ„å»ºæ—¶ hack

**è§£å†³æ–¹æ¡ˆ**ï¼š

**æ–¹æ¡ˆAï¼šåœ¨æºç ä¸­ä½¿ç”¨æ¡ä»¶åˆ¤æ–­**

```typescript
// âœ… æ­£ç¡®åšæ³•
const linkElements =
  typeof document !== 'undefined' ? document.getElementsByTagName('link') : []
```

**æ–¹æ¡ˆBï¼šä½¿ç”¨ Vite çš„ define é…ç½®**

```typescript
// vite.config.ts
define: {
  'typeof document': JSON.stringify('undefined')
}
```

**æ–¹æ¡ˆCï¼šä½¿ç”¨æ„å»ºæ—¶æ’ä»¶ï¼ˆå¦‚æœå¿…é¡»ï¼‰**

```typescript
// ä½¿ç”¨æ›´å¯é çš„ AST è½¬æ¢ï¼ˆå¦‚ babel/swcï¼‰
import { transform } from '@swc/core'

// ä½¿ç”¨ AST æ›¿æ¢ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²æ›¿æ¢
```

**å»ºè®®**ï¼šä¼˜å…ˆä½¿ç”¨æ–¹æ¡ˆAï¼Œåœ¨æºç å±‚é¢è§£å†³å…¼å®¹æ€§é—®é¢˜ã€‚

---

### 3.3 TypeScript é…ç½®å¯ä»¥ä¼˜åŒ–

**é—®é¢˜**ï¼šå¤šä¸ª `tsconfig.json` æ–‡ä»¶ï¼Œé…ç½®å¯èƒ½é‡å¤ã€‚

**å½“å‰ç»“æ„**ï¼š

```
tsconfig.json                    # æ ¹é…ç½®ï¼ˆProject Referencesï¼‰
frontend/tsconfig.json           # Frontend ä¸»é…ç½®ï¼ˆProject Referencesï¼‰
frontend/tsconfig.app.json       # åº”ç”¨ä»£ç é…ç½®
frontend/tsconfig.node.json      # æ„å»ºå·¥å…·é…ç½®
```

**ä¼˜åŒ–å»ºè®®**ï¼š

1. **ç»Ÿä¸€è·¯å¾„åˆ«åé…ç½®**ï¼š

```json
// tsconfig.base.json - åŸºç¡€é…ç½®
{
  "compilerOptions": {
    "paths": {
      "@/*": ["./src/*"]
    }
  }
}

// tsconfig.app.json - ç»§æ‰¿åŸºç¡€é…ç½®
{
  "extends": "./tsconfig.base.json",
  "compilerOptions": {
    // åº”ç”¨ç‰¹å®šé…ç½®
  }
}
```

2. **æ·»åŠ ä¸¥æ ¼æ¨¡å¼æ£€æŸ¥**ï¼š

```json
{
  "compilerOptions": {
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noImplicitReturns": true,
    "noFallthroughCasesInSwitch": true
  }
}
```

---

### 3.4 ç¼ºå°‘å¾ªç¯ä¾èµ–æ£€æµ‹

**é—®é¢˜**ï¼šæ²¡æœ‰å·¥å…·æ£€æµ‹å¾ªç¯ä¾èµ–ã€‚

**å»ºè®®**ï¼š

```bash
# å®‰è£…å¾ªç¯ä¾èµ–æ£€æµ‹å·¥å…·
bun add -D madge

# package.json æ·»åŠ è„šæœ¬
{
  "scripts": {
    "check:circular": "madge --circular --extensions ts,vue frontend/src"
  }
}
```

**æˆ–ä½¿ç”¨ ESLint æ’ä»¶**ï¼š

```bash
bun add -D eslint-plugin-import

# eslint.config.js
import { rules } from 'eslint-plugin-import'

export default [
  {
    plugins: { import: pluginImport },
    rules: {
      'import/no-cycle': ['error', { maxDepth: 10 }]
    }
  }
]
```

---

## ğŸ“ å››ã€ä»£ç ç»„ç»‡é—®é¢˜ï¼ˆè½»å¾®ï¼‰

### 4.1 å¯¼å…¥è·¯å¾„ä¸ä¸€è‡´

**é—®é¢˜**ï¼šæœ‰äº›åœ°æ–¹ä½¿ç”¨ `@/infrastructure`ï¼Œæœ‰äº›ä½¿ç”¨ç›¸å¯¹è·¯å¾„ã€‚

**å»ºè®®**ï¼š

- ç»Ÿä¸€ä½¿ç”¨è·¯å¾„åˆ«å `@/`
- æ·»åŠ  ESLint è§„åˆ™å¼ºåˆ¶ä½¿ç”¨åˆ«åï¼š

```javascript
{
  rules: {
    'no-restricted-imports': [
      'error',
      {
        patterns: [
          {
            group: ['../infrastructure/*'],
            message: 'è¯·ä½¿ç”¨ @/infrastructure/* åˆ«å'
          }
        ]
      }
    ]
  }
}
```

---

### 4.2 ç¼ºå°‘æ¶æ„æ–‡æ¡£

**é—®é¢˜**ï¼šè™½ç„¶æœ‰é¡¹ç›®è§„åˆ™æ–‡æ¡£ï¼Œä½†ç¼ºå°‘æ¶æ„å›¾å’Œæ•°æ®æµå›¾ã€‚

**å»ºè®®**ï¼š

1. **åˆ›å»ºæ¶æ„å›¾**ï¼š

   ```
   docs/architecture/
   â”œâ”€â”€ architecture-diagram.md      # æ•´ä½“æ¶æ„å›¾
   â”œâ”€â”€ data-flow-diagram.md        # æ•°æ®æµå›¾
   â”œâ”€â”€ layer-responsibilities.md   # å„å±‚èŒè´£è¯´æ˜
   â””â”€â”€ dependency-graph.md        # ä¾èµ–å…³ç³»å›¾
   ```

2. **ä½¿ç”¨å·¥å…·ç”Ÿæˆä¾èµ–å›¾**ï¼š
   ```bash
   # ä½¿ç”¨ madge ç”Ÿæˆä¾èµ–å›¾
   madge --image arch.svg frontend/src
   ```

---

## âœ… äº”ã€å·²åšå¥½çš„æ–¹é¢

1. âœ… **DDD åˆ†å±‚æ¶æ„ç†å¿µæ¸…æ™°**ï¼šæœ‰æ˜ç¡®çš„åˆ†å±‚ç»“æ„
2. âœ… **TypeScript é…ç½®å®Œå–„**ï¼šä½¿ç”¨ Project Referencesï¼Œé…ç½®åˆç†
3. âœ… **ä»£ç è§„èŒƒå®Œå–„**ï¼šESLintã€Prettierã€Stylelint é…ç½®é½å…¨
4. âœ… **æ„å»ºé…ç½®ä¼˜åŒ–**ï¼šVite é…ç½®è€ƒè™‘äº†æ€§èƒ½ä¼˜åŒ–
5. âœ… **å­˜å‚¨æ–¹æ¡ˆèŒè´£æ¸…æ™°**ï¼šIndexedDBã€chrome.storageã€Pinia ä½¿ç”¨åœºæ™¯æ˜ç¡®

---

## ğŸ¯ å…­ã€ä¼˜åŒ–ä¼˜å…ˆçº§å»ºè®®

### P0 - ç«‹å³ä¿®å¤ï¼ˆæ¶æ„è¿è§„ï¼‰

1. **ç§»é™¤ Core å±‚å¯¹ Infrastructure çš„ä¾èµ–**
   - ä½¿ç”¨ä¾èµ–æ³¨å…¥æˆ–äº‹ä»¶ç³»ç»Ÿ
   - é¢„è®¡å·¥ä½œé‡ï¼š2-3 å¤©

2. **ä¿®å¤ Infrastructure å±‚å¯¼å‡º Application å±‚çš„é—®é¢˜**
   - ç§»é™¤ `infrastructure/index.ts` ä¸­çš„ `application` å¯¼å‡º
   - é¢„è®¡å·¥ä½œé‡ï¼š1 å°æ—¶

3. **åˆ›å»º Presentation å±‚é€‚é…å™¨**
   - ç»„ä»¶é€šè¿‡é€‚é…å™¨è®¿é—®åº”ç”¨å±‚
   - é¢„è®¡å·¥ä½œé‡ï¼š3-5 å¤©

### P1 - å°½å¿«ä¿®å¤ï¼ˆèŒè´£æ¸…æ™°ï¼‰

4. **ç»Ÿä¸€ Services å’Œ Application å±‚**
   - è¿ç§» `services/` åˆ° `application/`
   - é¢„è®¡å·¥ä½œé‡ï¼š2-3 å¤©

5. **ç§»é™¤ Vite é…ç½®ä¸­çš„ Hack ä»£ç **
   - åœ¨æºç å±‚é¢è§£å†³ Service Worker å…¼å®¹æ€§
   - é¢„è®¡å·¥ä½œé‡ï¼š1-2 å¤©

### P2 - è®¡åˆ’ä¿®å¤ï¼ˆå·¥ç¨‹åŒ–ä¼˜åŒ–ï¼‰

6. **ç®€åŒ– ESLint é…ç½®**
   - æå–å…¬å…±é…ç½®ï¼Œå‡å°‘é‡å¤
   - é¢„è®¡å·¥ä½œé‡ï¼š1 å¤©

7. **æ·»åŠ å¾ªç¯ä¾èµ–æ£€æµ‹**
   - é›†æˆ madge æˆ– eslint-plugin-import
   - é¢„è®¡å·¥ä½œé‡ï¼š0.5 å¤©

8. **ä¼˜åŒ– TypeScript é…ç½®**
   - ç»Ÿä¸€åŸºç¡€é…ç½®ï¼Œæ·»åŠ ä¸¥æ ¼æ£€æŸ¥
   - é¢„è®¡å·¥ä½œé‡ï¼š0.5 å¤©

### P3 - é•¿æœŸä¼˜åŒ–ï¼ˆæ–‡æ¡£å®Œå–„ï¼‰

9. **åˆ›å»ºæ¶æ„æ–‡æ¡£**
   - æ¶æ„å›¾ã€æ•°æ®æµå›¾ã€ä¾èµ–å…³ç³»å›¾
   - é¢„è®¡å·¥ä½œé‡ï¼š2-3 å¤©

---

## ğŸ“ ä¸ƒã€å®æ–½å»ºè®®

### é˜¶æ®µä¸€ï¼šæ¶æ„ä¿®å¤ï¼ˆ1-2å‘¨ï¼‰

1. ä¿®å¤ Core å±‚ä¾èµ–é—®é¢˜
2. åˆ›å»º Presentation å±‚é€‚é…å™¨
3. ç»Ÿä¸€ Services å’Œ Application å±‚

### é˜¶æ®µäºŒï¼šå·¥ç¨‹åŒ–ä¼˜åŒ–ï¼ˆ3-5å¤©ï¼‰

1. ç®€åŒ– ESLint é…ç½®
2. ç§»é™¤ Vite Hack ä»£ç 
3. æ·»åŠ å¾ªç¯ä¾èµ–æ£€æµ‹

### é˜¶æ®µä¸‰ï¼šæ–‡æ¡£å®Œå–„ï¼ˆæŒç»­ï¼‰

1. åˆ›å»ºæ¶æ„æ–‡æ¡£
2. æ›´æ–°é¡¹ç›®è§„åˆ™æ–‡æ¡£
3. æ·»åŠ ä»£ç ç¤ºä¾‹

---

## ğŸ” å…«ã€éªŒè¯æ£€æŸ¥æ¸…å•

ä¿®å¤åï¼Œè¯·éªŒè¯ï¼š

- [ ] Core å±‚ä¸ä¾èµ– Infrastructure å±‚
- [ ] Presentation å±‚ä¸ç›´æ¥è®¿é—® Infrastructure å±‚
- [ ] Infrastructure å±‚ä¸å¯¼å‡º Application å±‚å†…å®¹
- [ ] Services å’Œ Application å±‚èŒè´£æ¸…æ™°
- [ ] æ— å¾ªç¯ä¾èµ–ï¼ˆè¿è¡Œ `madge --circular`ï¼‰
- [ ] ESLint é…ç½®ç®€åŒ–ä¸”å¯ç»´æŠ¤
- [ ] Vite é…ç½®æ—  Hack ä»£ç 
- [ ] TypeScript é…ç½®ç»Ÿä¸€ä¸”ä¸¥æ ¼

---

## ğŸ“š å‚è€ƒèµ„æº

- [DDD åˆ†å±‚æ¶æ„æœ€ä½³å®è·µ](https://martinfowler.com/bliki/PresentationDomainDataLayering.html)
- [Clean Architecture](https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html)
- [TypeScript Project References](https://www.typescriptlang.org/docs/handbook/project-references.html)
- [ESLint é…ç½®æœ€ä½³å®è·µ](https://eslint.org/docs/latest/use/configure/)

---

_æŠ¥å‘Šç”Ÿæˆå®Œæˆ_
