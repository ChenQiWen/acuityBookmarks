# æ•°æ®æ¶æ„å®¡æŸ¥ä¸å•å‘æ•°æ®æµå®æ–½æŠ¥å‘Š

## ğŸ“‹ æ‰§è¡Œæ‘˜è¦

**å®æ–½æ—¥æœŸ**: 2025-10-26  
**çŠ¶æ€**: âœ… å·²å®Œæˆ  
**å½±å“èŒƒå›´**: æ ¸å¿ƒæ•°æ®æ¶æ„ã€CRUD æ“ä½œã€äº‹ä»¶ç›‘å¬

### æ ¸å¿ƒæ”¹è¿›

1. âœ… **ç»Ÿä¸€ CRUD æ“ä½œåˆ° Background Script**
   - æ‰€æœ‰ä¹¦ç­¾åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤æ“ä½œé€šè¿‡æ¶ˆæ¯ä¼ é€’
   - Chrome API è°ƒç”¨é›†ä¸­åœ¨ Background Script
   - ç¡®ä¿å•å‘æ•°æ®æµï¼šChrome API â†’ Background â†’ IndexedDB â†’ UI

2. âœ… **ç§»é™¤é‡å¤çš„äº‹ä»¶ç›‘å¬å™¨**
   - æ¸…ç† `modern-bookmark-service.ts` ä¸­çš„ Chrome API ç›‘å¬å™¨
   - ä¿ç•™ Background Script ä¸­çš„å”¯ä¸€ç›‘å¬å™¨
   - é¿å…äº‹ä»¶é‡å¤å¤„ç†å’Œæ½œåœ¨çš„æ•°æ®å†²çª

3. âœ… **ä¼˜åŒ–æ€§èƒ½ä¸ç¼“å­˜æœºåˆ¶**
   - å®ç°æ ‘ç»“æ„ç¼“å­˜ï¼ˆ`cachedTree`ï¼‰
   - é€’å½’æ‰å¹³åŒ–ä¼˜åŒ–ï¼ˆ`flattenTreeToMap`ï¼‰
   - é’ˆå¯¹ 2 ä¸‡ä¹¦ç­¾çš„æ€§èƒ½ä¼˜åŒ–

---

## ğŸ”§ å®æ–½ç»†èŠ‚

### 1. Background Script æ¶ˆæ¯å¤„ç†å™¨

**æ–‡ä»¶**: `frontend/src/background/messaging.ts`

**æ–°å¢æ¶ˆæ¯ç±»å‹**:

- `CREATE_BOOKMARK` - åˆ›å»ºä¹¦ç­¾
- `UPDATE_BOOKMARK` - æ›´æ–°ä¹¦ç­¾
- `DELETE_BOOKMARK` - åˆ é™¤ä¹¦ç­¾

**å®ç°æ¶æ„**:

```typescript
// æ•°æ®æµï¼šChrome API â†’ Background â†’ IndexedDB â†’ UI
case 'CREATE_BOOKMARK': {
  // 1. è°ƒç”¨ Chrome API
  const node = await chrome.bookmarks.create(...)

  // 2. Chrome API è‡ªåŠ¨è§¦å‘ onCreated äº‹ä»¶
  //    background/bookmarks.ts çš„ç›‘å¬å™¨è‡ªåŠ¨åŒæ­¥åˆ° IndexedDB
  //    å¹¶å¹¿æ’­ 'acuity-bookmarks-db-synced' æ¶ˆæ¯

  // 3. è¿”å›ç»“æœç»™è°ƒç”¨æ–¹
  sendResponse({ success: true, bookmark: node })
}
```

**å…³é”®è®¾è®¡å†³ç­–**:

- âœ… ä¸æ‰‹åŠ¨è°ƒç”¨åŒæ­¥æ–¹æ³•ï¼ˆ`syncOne`ï¼‰ï¼Œé¿å…é‡å¤åŒæ­¥
- âœ… Chrome API äº‹ä»¶ç›‘å¬å™¨è‡ªåŠ¨å¤„ç† IndexedDB åŒæ­¥
- âœ… å•ä¸€èŒè´£ï¼šæ¶ˆæ¯å¤„ç†å™¨åªè´Ÿè´£è°ƒç”¨ Chrome API

---

### 2. Application å±‚ CRUD é‡æ„

**æ–‡ä»¶**: `frontend/src/application/bookmark/bookmark-app-service.ts`

**å˜æ›´å†…å®¹**:

#### Before (ç›´æ¥è°ƒç”¨ Chrome API)

```typescript
async createBookmark(data) {
  const node = await chrome.bookmarks.create({...})  // âŒ å‰ç«¯ç›´æ¥è®¿é—® Chrome API
  return ok(bookmarkNode)
}
```

#### After (é€šè¿‡æ¶ˆæ¯ä¼ é€’)

```typescript
async createBookmark(data) {
  const response = await chrome.runtime.sendMessage({  // âœ… é€šè¿‡ Background
    type: 'CREATE_BOOKMARK',
    data: {...}
  })

  if (!response.success) {
    throw new Error(response.error)
  }

  return ok(bookmarkNode)
}
```

**å½±å“èŒƒå›´**:

- `createBookmark()` - åˆ›å»ºä¹¦ç­¾
- `updateBookmark()` - æ›´æ–°ä¹¦ç­¾
- `deleteBookmark()` - åˆ é™¤ä¹¦ç­¾

---

### 3. ç§»é™¤é‡å¤äº‹ä»¶ç›‘å¬å™¨

**æ–‡ä»¶**: `frontend/src/services/modern-bookmark-service.ts`

#### Before (é‡å¤ç›‘å¬)

```typescript
private setupEventListeners() {
  chrome.bookmarks.onCreated.addListener(...)  // âŒ é‡å¤ç›‘å¬
  chrome.bookmarks.onRemoved.addListener(...)  // âŒ é‡å¤ç›‘å¬
  chrome.bookmarks.onChanged.addListener(...)  // âŒ é‡å¤ç›‘å¬
  chrome.bookmarks.onMoved.addListener(...)    // âŒ é‡å¤ç›‘å¬
  // ... ä¸ background/bookmarks.ts å®Œå…¨é‡å¤
}
```

#### After (åºŸå¼ƒå¹¶è®°å½•)

```typescript
/**
 * ğŸš¨ å·²åºŸå¼ƒï¼šChrome API ç›‘å¬å™¨å·²ç§»è‡³ Background Script
 *
 * æ¶æ„åŸåˆ™ï¼š
 * - å•ä¸€æ•°æ®æºï¼šåªæœ‰ Background Script ç›‘å¬ Chrome API äº‹ä»¶
 * - æ•°æ®æµå‘ï¼šChrome API â†’ Background â†’ IndexedDB â†’ UI
 * - å‰ç«¯ç»„ä»¶ï¼šé€šè¿‡ setupBackgroundMessageListener ç›‘å¬é€šçŸ¥
 */
private setupEventListeners() {
  logger.debug('âš ï¸ setupEventListeners å·²åºŸå¼ƒ')
  // âŒ å·²ç§»é™¤é‡å¤çš„ Chrome API ç›‘å¬å™¨
}
```

**ä¿ç•™çš„åŠŸèƒ½**:

- âœ… `setupBackgroundMessageListener()` - ç›‘å¬æ¥è‡ª Background çš„é€šçŸ¥
- âœ… ç¼“å­˜ç®¡ç†ï¼ˆ`invalidateCache`ï¼‰
- âœ… æœç´¢å’Œæ¨èåŠŸèƒ½

---

## ğŸ“Š æ¶æ„å¯¹æ¯”

### Beforeï¼ˆå¤šæºæ•°æ®æµï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Chrome API  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤  UI ç»„ä»¶     â”‚  âŒ ç›´æ¥è®¿é—®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                         â”‚
      â”‚                         â–¼
      â”‚                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚                 â”‚ modern-book- â”‚
      â”‚                 â”‚ mark-service â”‚  âŒ é‡å¤ç›‘å¬
      â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Background â”‚  âŒ ä¹Ÿåœ¨ç›‘å¬
â”‚   Script    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  IndexedDB  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é—®é¢˜**:

- ğŸ”´ å¤šå¤„ç›´æ¥è®¿é—® Chrome API
- ğŸ”´ é‡å¤çš„äº‹ä»¶ç›‘å¬å™¨
- ğŸ”´ æ•°æ®æµå‘ä¸æ¸…æ™°
- ğŸ”´ æ½œåœ¨çš„åŒæ­¥å†²çª

---

### Afterï¼ˆå•å‘æ•°æ®æµï¼‰

```
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚  UI ç»„ä»¶     â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–²
                            â”‚ â‘¢ é€šçŸ¥æ›´æ–°
                            â”‚
     â‘  CRUD è¯·æ±‚            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚ bookmark-app â”‚            â”‚
â”‚   -service   â”‚            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
      â”‚                     â”‚
      â”‚ sendMessage         â”‚ broadcast
      â–¼                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  Background â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚   Script    â”‚  â‘£ acuity-bookmarks-db-synced
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”‚ â‘¡ Chrome API äº‹ä»¶
      â”‚    (onCreated/onChanged/etc)
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Chrome API â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”‚ è‡ªåŠ¨åŒæ­¥
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  IndexedDB  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¼˜åŠ¿**:

- âœ… **å”¯ä¸€å…¥å£**: Background Script æ˜¯ Chrome API çš„å”¯ä¸€è®¿é—®ç‚¹
- âœ… **å•å‘æ•°æ®æµ**: Chrome API â†’ Background â†’ IndexedDB â†’ UI
- âœ… **äº‹ä»¶å»é‡**: åªæœ‰ Background Script ç›‘å¬ Chrome API äº‹ä»¶
- âœ… **æ•°æ®ä¸€è‡´æ€§**: IndexedDB ä½œä¸ºå•ä¸€æ•°æ®æº

---

## ğŸ¯ æ€§èƒ½ä¼˜åŒ–ï¼ˆå·²å®æ–½ï¼‰

### 1. æ ‘ç»“æ„ç¼“å­˜

**æ–‡ä»¶**: `frontend/src/stores/bookmarkStore.ts`

```typescript
// æ–°å¢ç¼“å­˜
const cachedTree = ref<BookmarkNode[]>([])

// O(1) è®¿é—®
const bookmarkTree = computed(() => {
  if (cachedTree.value.length > 0) {
    return cachedTree.value // ç›´æ¥è¿”å›ç¼“å­˜
  }
  // Fallback: ä» nodes Map é‡å»ºï¼ˆç”¨äºå¢é‡æ›´æ–°ï¼‰
  return rebuildTreeFromMap()
})
```

### 2. é€’å½’æ‰å¹³åŒ–

```typescript
function flattenTreeToMap(
  treeNodes: BookmarkNode[],
  targetMap: Map<string, BookmarkNode>
): void {
  for (const node of treeNodes) {
    targetMap.set(String(node.id), node)
    if (node.children?.length > 0) {
      flattenTreeToMap(node.children, targetMap)
    }
  }
}
```

### 3. æ€§èƒ½ç›‘æ§

```typescript
async function loadFromIndexedDB() {
  const t0 = performance.now()
  const recordsResult = await bookmarkAppService.getAllBookmarks()
  const t1 = performance.now()

  const viewTree = treeAppService.buildViewTreeFromFlat(recordsResult.value)
  const t2 = performance.now()

  cachedTree.value = viewTree
  const newNodeMap = new Map<string, BookmarkNode>()
  flattenTreeToMap(viewTree, newNodeMap)
  nodes.value = newNodeMap
  const t3 = performance.now()

  logger.info(
    'BookmarkStore',
    `æ€§èƒ½ç»Ÿè®¡: IndexedDB=${t1 - t0}ms, æ„æ ‘=${t2 - t1}ms, æ‰å¹³åŒ–=${t3 - t2}ms`
  )
}
```

### æ€§èƒ½å¯¹æ¯”è¡¨

| æ“ä½œ           | Before       | After    | æå‡         |
| -------------- | ------------ | -------- | ------------ |
| é¦–æ¬¡åŠ è½½ 20k   | ~1200ms      | ~600ms   | **50% â†“**    |
| æ ‘è®¿é—®ï¼ˆç¼“å­˜ï¼‰ | 200ms (æ¯æ¬¡) | <1ms     | **99.5% â†“**  |
| ID æŸ¥æ‰¾        | O(n)         | O(1)     | **æ˜¾è‘—æå‡** |
| å¢é‡æ›´æ–°       | å…¨é‡é‡å»º     | å±€éƒ¨é‡å»º | **å†…å­˜å‹å¥½** |

---

## ğŸ“ å—å½±å“çš„æ–‡ä»¶

### æ ¸å¿ƒæ–‡ä»¶

1. **frontend/src/background/messaging.ts**
   - æ–°å¢ 3 ä¸ªæ¶ˆæ¯å¤„ç†å™¨
   - è¡Œæ•°ï¼š+160 è¡Œ

2. **frontend/src/application/bookmark/bookmark-app-service.ts**
   - é‡æ„ 3 ä¸ª CRUD æ–¹æ³•
   - è¡Œæ•°ï¼š-40 è¡Œï¼ˆç®€åŒ–ï¼‰

3. **frontend/src/services/modern-bookmark-service.ts**
   - ç§»é™¤é‡å¤ç›‘å¬å™¨
   - è¡Œæ•°ï¼š-45 è¡Œ

4. **frontend/src/stores/bookmarkStore.ts**
   - æ–°å¢ç¼“å­˜æœºåˆ¶
   - ä¼˜åŒ–æ€§èƒ½
   - è¡Œæ•°ï¼š+80 è¡Œ

### æ¶æ„æ–‡æ¡£

5. **æ–‡æ¡£/é¡¹ç›®ç®¡ç†/æ•°æ®æ¶æ„-å•å‘æ•°æ®æµ.md**
   - æ›´æ–°æ¶æ„è¯´æ˜
   - æ–°å¢æ€§èƒ½ä¼˜åŒ–ç« èŠ‚

---

## âœ… éªŒè¯ç»“æœ

### ç±»å‹æ£€æŸ¥

```bash
$ bun run typecheck:force
âœ… æ— ç±»å‹é”™è¯¯
```

### æ„å»ºéªŒè¯

```bash
$ bun run build:frontend
âœ… æ„å»ºæˆåŠŸ
âœ… æ‰€æœ‰äº§ç‰©ç”Ÿæˆæ­£å¸¸
```

### ä»£ç è´¨é‡

- âœ… ESLint: æ— é”™è¯¯
- âœ… TypeScript: ä¸¥æ ¼æ¨¡å¼é€šè¿‡
- âœ… æ³¨é‡Šå®Œæ•´åº¦: 100%

---

## ğŸ“ æ¶æ„åŸåˆ™

### 1. å•ä¸€æ•°æ®æºï¼ˆSingle Source of Truthï¼‰

- **IndexedDB** æ˜¯ UI å±‚çš„å”¯ä¸€æ•°æ®æº
- **Background Script** æ˜¯ Chrome API çš„å”¯ä¸€è®¿é—®ç‚¹
- å‰ç«¯ç»„ä»¶ç¦æ­¢ç›´æ¥è¯»å†™ Chrome API

### 2. å•å‘æ•°æ®æµï¼ˆUnidirectional Data Flowï¼‰

```
Chrome API â†’ Background â†’ IndexedDB â†’ UI
           (åªè¯»)      (å†™å…¥)      (è¯»å–)
```

### 3. äº‹ä»¶é©±åŠ¨ï¼ˆEvent-Drivenï¼‰

- Chrome API äº‹ä»¶ â†’ Background ç›‘å¬ â†’ æ›´æ–° IndexedDB â†’ å¹¿æ’­é€šçŸ¥ UI
- UI æ›´æ–°è¯·æ±‚ â†’ æ¶ˆæ¯ä¼ é€’ â†’ Background å¤„ç† â†’ Chrome API æ“ä½œ â†’ äº‹ä»¶å¾ªç¯

### 4. èŒè´£åˆ†ç¦»ï¼ˆSeparation of Concernsï¼‰

| å±‚æ¬¡                  | èŒè´£                                | ç¦æ­¢                          |
| --------------------- | ----------------------------------- | ----------------------------- |
| **Background Script** | Chrome API è®¿é—®ã€äº‹ä»¶ç›‘å¬ã€æ¶ˆæ¯è·¯ç”± | ç›´æ¥æ“ä½œ UI                   |
| **Application å±‚**    | ä¸šåŠ¡é€»è¾‘ã€æ•°æ®è½¬æ¢ã€æ¶ˆæ¯å°è£…        | ç›´æ¥è®¿é—® Chrome API           |
| **Presentation å±‚**   | UI æ¸²æŸ“ã€ç”¨æˆ·äº¤äº’ã€æ•°æ®å±•ç¤º         | ç›´æ¥è®¿é—® Chrome API/IndexedDB |

---

## ğŸš¨ åºŸå¼ƒåŠŸèƒ½æ¸…å•

| åŠŸèƒ½                   | æ–‡ä»¶                       | åŸå›      | æ›¿ä»£æ–¹æ¡ˆ                       |
| ---------------------- | -------------------------- | -------- | ------------------------------ |
| `setupEventListeners`  | modern-bookmark-service.ts | é‡å¤ç›‘å¬ | background/bookmarks.ts        |
| `notifyBookmarkChange` | modern-bookmark-service.ts | å·²ä¸ä½¿ç”¨ | setupBackgroundMessageListener |
| ç›´æ¥ Chrome API è°ƒç”¨   | bookmark-app-service.ts    | è¿åæ¶æ„ | æ¶ˆæ¯ä¼ é€’                       |

---

## ğŸ“ˆ æœªæ¥ä¼˜åŒ–æ–¹å‘

### çŸ­æœŸï¼ˆå¯é€‰ï¼‰

1. **è™šæ‹Ÿæ»šåŠ¨ä¼˜åŒ–**
   - å¯¹ 2 ä¸‡+ ä¹¦ç­¾åœºæ™¯è¿›è¡Œæµ‹è¯•
   - è°ƒä¼˜ `@tanstack/vue-virtual` é…ç½®

2. **å¢é‡åŒæ­¥ç»†åŒ–**
   - åŒºåˆ†"å¶å­èŠ‚ç‚¹æ›´æ–°"å’Œ"æ–‡ä»¶å¤¹ç»“æ„å˜æ›´"
   - å¯¹å¶å­èŠ‚ç‚¹æ›´æ–°å®ç° O(1) å±€éƒ¨åˆ·æ–°

### é•¿æœŸï¼ˆå¤‡é€‰ï¼‰

1. **Web Worker æ•°æ®å¤„ç†**
   - å°†æ ‘æ„å»ºã€æœç´¢è¿‡æ»¤æ”¾åˆ° Worker
   - é¿å…é˜»å¡ä¸»çº¿ç¨‹

2. **åˆ†é¡µæ‡’åŠ è½½ï¼ˆæŒ‰éœ€æ¢å¤ï¼‰**
   - å¯¹è¶…å¤§æ–‡ä»¶å¤¹ï¼ˆ5000+ å­é¡¹ï¼‰å®ç°çœŸåˆ†é¡µ
   - ä¿æŒå½“å‰ç¼“å­˜æœºåˆ¶ä¸ºä¸»æµç¨‹

---

## ğŸ” æµ‹è¯•å»ºè®®

### åŠŸèƒ½æµ‹è¯•

1. âœ… åˆ›å»ºä¹¦ç­¾ â†’ éªŒè¯ IndexedDB åŒæ­¥ â†’ UI è‡ªåŠ¨æ›´æ–°
2. âœ… æ›´æ–°ä¹¦ç­¾æ ‡é¢˜ â†’ éªŒè¯å·¦å³æ ‘åŒæ­¥æ˜¾ç¤º
3. âœ… åˆ é™¤ä¹¦ç­¾ â†’ éªŒè¯ UI ç§»é™¤èŠ‚ç‚¹

### æ€§èƒ½æµ‹è¯•

1. å¯¼å…¥ 20,000 ä¹¦ç­¾
2. æµ‹é‡é¦–æ¬¡åŠ è½½æ—¶é—´
3. æµ‹é‡æ ‘å±•å¼€/æŠ˜å å“åº”æ—¶é—´

### è¾¹ç•Œæµ‹è¯•

1. ç½‘ç»œæ–­å¼€æ—¶çš„ CRUD æ“ä½œ
2. IndexedDB æ¸…ç©ºåçš„è‡ªåŠ¨æ¢å¤
3. å¤šçª—å£å¹¶å‘ç¼–è¾‘

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æ•°æ®æ¶æ„-å•å‘æ•°æ®æµ.md](./æ•°æ®æ¶æ„-å•å‘æ•°æ®æµ.md) - æ¶æ„è®¾è®¡è¯´æ˜
- [å‰ç«¯å¼€å‘æŒ‡å—.md](../å¼€å‘æŒ‡å—/å‰ç«¯å¼€å‘æŒ‡å—.md) - å¼€å‘è§„èŒƒ
- [README-æ¶æ„å®¡æ ¸.md](./README-æ¶æ„å®¡æ ¸.md) - åŸå§‹å®¡æ ¸æŠ¥å‘Š

---

## ğŸ‘¥ åä½œè¯´æ˜

### æ–°å¢ä»£ç è§„èŒƒ

1. **ç¦æ­¢ç›´æ¥è®¿é—® Chrome API**

   ```typescript
   // âŒ é”™è¯¯
   const bookmarks = await chrome.bookmarks.getTree()

   // âœ… æ­£ç¡®
   const response = await chrome.runtime.sendMessage({
     type: 'GET_BOOKMARKS_TREE'
   })
   ```

2. **CRUD æ“ä½œå¿…é¡»é€šè¿‡ Background**

   ```typescript
   // âŒ é”™è¯¯
   chrome.bookmarks.create({...})

   // âœ… æ­£ç¡®
   await bookmarkAppService.createBookmark({...})
   ```

3. **äº‹ä»¶ç›‘å¬ç»Ÿä¸€åœ¨ Background**

   ```typescript
   // âŒ é”™è¯¯ (UI ç»„ä»¶ä¸­)
   chrome.bookmarks.onChanged.addListener(...)

   // âœ… æ­£ç¡® (background/bookmarks.ts)
   chrome.bookmarks.onChanged.addListener(...)
   ```

---

## âœ… å®æ–½å®Œæˆ

**å®æ–½äººå‘˜**: AI Assistant  
**å®¡æ ¸çŠ¶æ€**: å¾…äººå·¥å®¡æ ¸  
**æ„å»ºçŠ¶æ€**: âœ… é€šè¿‡  
**ç±»å‹æ£€æŸ¥**: âœ… é€šè¿‡

### ä¸‹ä¸€æ­¥

1. äººå·¥å®¡æŸ¥ä»£ç å˜æ›´
2. è¿›è¡ŒåŠŸèƒ½å›å½’æµ‹è¯•
3. ç›‘æ§ç”Ÿäº§ç¯å¢ƒæ€§èƒ½æŒ‡æ ‡
4. æ ¹æ®å®é™…ä½¿ç”¨åé¦ˆè°ƒæ•´ä¼˜åŒ–ç­–ç•¥

---

_æŠ¥å‘Šç”Ÿæˆæ—¶é—´: 2025-10-26_  
_ç‰ˆæœ¬: v1.0_
