# ğŸ¨ ç»„ä»¶ä¸é¡µé¢è§„èŒƒåŒ–é‡æ„æ–¹æ¡ˆ

> **ç›®æ ‡**: å»ºç«‹æ¸…æ™°çš„ç»„ä»¶åˆ†ç±»ä½“ç³»å’Œé¡µé¢ç»„ç»‡ç»“æ„  
> **åŸåˆ™**: èŒè´£å•ä¸€ã€å¯å¤ç”¨ã€æ–‡æ¡£å®Œå–„  
> **ç‰ˆæœ¬**: v1.0  
> **æ—¥æœŸ**: 2025-10-14

---

## ğŸ“‹ ç›®å½•

1. [æ–°ç›®å½•ç»“æ„](#æ–°ç›®å½•ç»“æ„)
2. [é¡µé¢è§„èŒƒ](#é¡µé¢è§„èŒƒ)
3. [ç»„ä»¶åˆ†ç±»ä½“ç³»](#ç»„ä»¶åˆ†ç±»ä½“ç³»)
4. [ç»„ä»¶è§„èŒƒ](#ç»„ä»¶è§„èŒƒ)
5. [è¿ç§»è®¡åˆ’](#è¿ç§»è®¡åˆ’)
6. [ç»„ä»¶æ¨¡æ¿](#ç»„ä»¶æ¨¡æ¿)

---

## ğŸ—ï¸ æ–°ç›®å½•ç»“æ„

### å®Œæ•´ç»“æ„é¢„è§ˆ

```
frontend/src/
â”œâ”€â”€ pages/                          # ğŸ“„ é¡µé¢ç›®å½•ï¼ˆæ–°ï¼‰
â”‚   â”œâ”€â”€ popup/                      # å¼¹å‡ºçª—å£é¡µé¢
â”‚   â”‚   â”œâ”€â”€ index.html
â”‚   â”‚   â”œâ”€â”€ main.ts
â”‚   â”‚   â”œâ”€â”€ Popup.vue
â”‚   â”‚   â”œâ”€â”€ components/             # é¡µé¢ä¸“ç”¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”œâ”€â”€ side-panel/                 # ä¾§è¾¹æ é¡µé¢
â”‚   â”‚   â”œâ”€â”€ SidePanel.vue
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”œâ”€â”€ management/                 # ç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ Management.vue
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”œâ”€â”€ auth/                       # è®¤è¯é¡µé¢
â”‚   â”‚   â”œâ”€â”€ Login.vue
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â””â”€â”€ settings/                   # è®¾ç½®é¡µé¢
â”‚       â”œâ”€â”€ Settings.vue
â”‚       â”œâ”€â”€ components/
â”‚       â””â”€â”€ README.md
â”‚
â”œâ”€â”€ components/                     # ğŸ§© ç»„ä»¶åº“ï¼ˆé‡æ„ï¼‰
â”‚   â”œâ”€â”€ base/                       # åŸºç¡€ UI ç»„ä»¶ï¼ˆçº¯å±•ç¤ºï¼Œæ— ä¸šåŠ¡ï¼‰
â”‚   â”‚   â”œâ”€â”€ Button/
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.types.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.test.ts
â”‚   â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”‚   â”œâ”€â”€ Input/
â”‚   â”‚   â”œâ”€â”€ Checkbox/
â”‚   â”‚   â”œâ”€â”€ Icon/
â”‚   â”‚   â”œâ”€â”€ Card/
â”‚   â”‚   â”œâ”€â”€ Dialog/
â”‚   â”‚   â”œâ”€â”€ Tooltip/
â”‚   â”‚   â””â”€â”€ ... (27ä¸ªåŸºç¡€ç»„ä»¶)
â”‚   â”‚
â”‚   â”œâ”€â”€ composite/                  # å¤åˆç»„ä»¶ï¼ˆä¸šåŠ¡ç›¸å…³ï¼‰
â”‚   â”‚   â”œâ”€â”€ BookmarkTree/
â”‚   â”‚   â”‚   â”œâ”€â”€ BookmarkTree.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ BookmarkTree.types.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ BookmarkTree.test.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ README.md
â”‚   â”‚   â”‚   â””â”€â”€ components/         # å­ç»„ä»¶
â”‚   â”‚   â”‚       â”œâ”€â”€ TreeNode/
â”‚   â”‚   â”‚       â””â”€â”€ TreeToolbar/
â”‚   â”‚   â”œâ”€â”€ SearchPanel/
â”‚   â”‚   â”‚   â”œâ”€â”€ SearchPanel.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ SearchPanel.types.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ SearchPanel.test.ts
â”‚   â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”‚   â”œâ”€â”€ BookmarkRecommendations/
â”‚   â”‚   â””â”€â”€ InlineSearch/
â”‚   â”‚
â”‚   â””â”€â”€ index.ts                    # ç»Ÿä¸€å¯¼å‡º
â”‚
â”œâ”€â”€ design-system/                  # ğŸ¨ è®¾è®¡ç³»ç»Ÿ
â”œâ”€â”€ core/                           # ğŸ¯ æ ¸å¿ƒä¸šåŠ¡å±‚
â”œâ”€â”€ infrastructure/                 # ğŸ”§ åŸºç¡€è®¾æ–½å±‚
â”œâ”€â”€ application/                    # ğŸ¬ åº”ç”¨æœåŠ¡å±‚
â””â”€â”€ ... (å…¶ä»–ç›®å½•ä¿æŒä¸å˜)
```

---

## ğŸ“„ é¡µé¢è§„èŒƒ

### é¡µé¢ç›®å½•ç»“æ„

æ¯ä¸ªé¡µé¢éµå¾ªç»Ÿä¸€çš„ç»“æ„ï¼š

```
pages/[é¡µé¢å]/
â”œâ”€â”€ [PageName].vue              # ä¸»é¡µé¢ç»„ä»¶
â”œâ”€â”€ main.ts                     # å…¥å£æ–‡ä»¶ï¼ˆå¦‚æœæ˜¯ç‹¬ç«‹é¡µé¢ï¼‰
â”œâ”€â”€ index.html                  # HTMLæ¨¡æ¿ï¼ˆå¦‚æœæ˜¯ç‹¬ç«‹é¡µé¢ï¼‰
â”œâ”€â”€ components/                 # é¡µé¢ä¸“ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ [ComponentName]/
â”‚   â”‚   â”œâ”€â”€ [ComponentName].vue
â”‚   â”‚   â”œâ”€â”€ [ComponentName].types.ts
â”‚   â”‚   â””â”€â”€ README.md
â”œâ”€â”€ composables/                # é¡µé¢ä¸“ç”¨ Composables
â”‚   â””â”€â”€ use[Feature].ts
â”œâ”€â”€ types.ts                    # é¡µé¢ç±»å‹å®šä¹‰
â””â”€â”€ README.md                   # é¡µé¢æ–‡æ¡£
```

### é¡µé¢ README æ¨¡æ¿

```markdown
# [é¡µé¢åç§°]

## ğŸ“‹ åŠŸèƒ½æè¿°

[ç®€è¦æè¿°é¡µé¢çš„ä¸»è¦åŠŸèƒ½]

## ğŸ¯ ä½¿ç”¨åœºæ™¯

- åœºæ™¯ 1
- åœºæ™¯ 2

## ğŸ”Œ è·¯ç”±

- **è·¯å¾„**: `/[path]`
- **å…¥å£æ–‡ä»¶**: `main.ts`

## ğŸ“¦ ä¾èµ–ç»„ä»¶

- `components/base/Button` - æŒ‰é’®æ“ä½œ
- `components/composite/SearchPanel` - æœç´¢åŠŸèƒ½

## ğŸ”„ æ•°æ®æµ

1. ä» `indexedDBManager.getAllBookmarks()` è·å–æ•°æ®
2. é€šè¿‡ `bookmarkAppService` å¤„ç†ä¸šåŠ¡é€»è¾‘
3. æ›´æ–°æœ¬åœ°çŠ¶æ€å¹¶æ¸²æŸ“

## ğŸ¨ çŠ¶æ€ç®¡ç†

- **Store**: `useManagementStore`
- **å…³é”®çŠ¶æ€**:
  - `isLoading` - åŠ è½½çŠ¶æ€
  - `bookmarks` - ä¹¦ç­¾æ•°æ®

## ğŸ”§ é…ç½®é¡¹

æ—  / [åˆ—å‡ºé…ç½®é¡¹]

## ğŸ“ æ³¨æ„äº‹é¡¹

- [é‡è¦è¯´æ˜ 1]
- [é‡è¦è¯´æ˜ 2]
```

---

## ğŸ§© ç»„ä»¶åˆ†ç±»ä½“ç³»

### åŸºç¡€ UI ç»„ä»¶ (Base Components)

**å®šä½**: çº¯å±•ç¤ºç»„ä»¶ï¼Œä¸ä¸šåŠ¡é€»è¾‘å®Œå…¨è§£è€¦

**ç‰¹å¾**:

- âœ… æ— ä¸šåŠ¡é€»è¾‘
- âœ… é€šè¿‡ props æ¥æ”¶æ‰€æœ‰æ•°æ®
- âœ… é€šè¿‡ emits å‘é€æ‰€æœ‰äº‹ä»¶
- âœ… å¯åœ¨ä»»ä½•é¡¹ç›®ä¸­å¤ç”¨
- âœ… å®Œå…¨å—æ§ï¼ˆControlled Componentï¼‰

**ç¤ºä¾‹**:

```
base/
â”œâ”€â”€ Button/              - æŒ‰é’®
â”œâ”€â”€ Input/               - è¾“å…¥æ¡†
â”œâ”€â”€ Checkbox/            - å¤é€‰æ¡†
â”œâ”€â”€ Radio/               - å•é€‰æ¡†
â”œâ”€â”€ Select/              - ä¸‹æ‹‰é€‰æ‹©
â”œâ”€â”€ Switch/              - å¼€å…³
â”œâ”€â”€ Icon/                - å›¾æ ‡
â”œâ”€â”€ Badge/               - å¾½ç« 
â”œâ”€â”€ Chip/                - æ ‡ç­¾
â”œâ”€â”€ Avatar/              - å¤´åƒ
â”œâ”€â”€ Card/                - å¡ç‰‡
â”œâ”€â”€ Dialog/              - å¯¹è¯æ¡†
â”œâ”€â”€ Tooltip/             - å·¥å…·æç¤º
â”œâ”€â”€ Dropdown/            - ä¸‹æ‹‰èœå•
â”œâ”€â”€ Tabs/                - æ ‡ç­¾é¡µ
â”œâ”€â”€ List/                - åˆ—è¡¨
â”œâ”€â”€ Grid/                - ç½‘æ ¼
â”œâ”€â”€ Divider/             - åˆ†å‰²çº¿
â”œâ”€â”€ Spinner/             - åŠ è½½æŒ‡ç¤ºå™¨
â”œâ”€â”€ ProgressBar/         - è¿›åº¦æ¡
â”œâ”€â”€ Toast/               - æ¶ˆæ¯æç¤º
â”œâ”€â”€ Overlay/             - é®ç½©å±‚
â”œâ”€â”€ Spacer/              - é—´è·
â”œâ”€â”€ AppBar/              - åº”ç”¨æ 
â”œâ”€â”€ Main/                - ä¸»å®¹å™¨
â”œâ”€â”€ SvgIcon/             - SVGå›¾æ ‡
â”œâ”€â”€ EmojiIcon/           - Emojiå›¾æ ‡
â”œâ”€â”€ UrlInput/            - URLè¾“å…¥æ¡†
â””â”€â”€ ConfirmableDialog/   - ç¡®è®¤å¯¹è¯æ¡†
```

### å¤åˆç»„ä»¶ (Composite Components)

**å®šä½**: ä¸šåŠ¡ç›¸å…³ç»„ä»¶ï¼Œç»„åˆå¤šä¸ªåŸºç¡€ç»„ä»¶ï¼ŒåŒ…å«ä¸šåŠ¡é€»è¾‘

**ç‰¹å¾**:

- âœ… ç»„åˆå¤šä¸ªåŸºç¡€ UI ç»„ä»¶
- âœ… åŒ…å«è‡ªèº«çš„äº¤äº’é€»è¾‘
- âœ… å¯è®¿é—®ä¸šåŠ¡æ•°æ®ï¼ˆé€šè¿‡ props æˆ– injectï¼‰
- âœ… å¯è°ƒç”¨ Application å±‚æœåŠ¡
- âŒ ä¸ç›´æ¥è®¿é—® Chrome API æˆ– IndexedDB

**ç¤ºä¾‹**:

```
composite/
â”œâ”€â”€ BookmarkTree/           - ä¹¦ç­¾æ ‘ç»„ä»¶
â”‚   â”œâ”€â”€ BookmarkTree.vue
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ TreeNode/       - æ ‘èŠ‚ç‚¹ï¼ˆå­ç»„ä»¶ï¼‰
â”‚   â”‚   â””â”€â”€ TreeToolbar/    - æ ‘å·¥å…·æ ï¼ˆå­ç»„ä»¶ï¼‰
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ SearchPanel/            - æœç´¢é¢æ¿
â”‚   â”œâ”€â”€ SearchPanel.vue
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ SearchInput/
â”‚   â”‚   â”œâ”€â”€ SearchResults/
â”‚   â”‚   â””â”€â”€ SearchFilters/
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ BookmarkRecommendations/ - æ™ºèƒ½æ¨è
â”‚   â”œâ”€â”€ BookmarkRecommendations.vue
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ RecommendationItem/
â”‚   â””â”€â”€ README.md
â”‚
â””â”€â”€ InlineSearch/           - å†…è”æœç´¢
    â”œâ”€â”€ InlineSearch.vue
    â””â”€â”€ README.md
```

---

## ğŸ“ ç»„ä»¶è§„èŒƒ

### ç»„ä»¶ç›®å½•ç»“æ„

**åŸºç¡€ç»„ä»¶ç¤ºä¾‹**:

```
components/base/Button/
â”œâ”€â”€ Button.vue              # ç»„ä»¶å®ç°
â”œâ”€â”€ Button.types.ts         # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ Button.test.ts          # å•å…ƒæµ‹è¯•ï¼ˆå¯é€‰ï¼‰
â””â”€â”€ README.md               # ç»„ä»¶æ–‡æ¡£
```

**å¤åˆç»„ä»¶ç¤ºä¾‹**:

```
components/composite/BookmarkTree/
â”œâ”€â”€ BookmarkTree.vue        # ä¸»ç»„ä»¶
â”œâ”€â”€ BookmarkTree.types.ts   # ç±»å‹å®šä¹‰
â”œâ”€â”€ BookmarkTree.test.ts    # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ README.md               # ç»„ä»¶æ–‡æ¡£
â””â”€â”€ components/             # å­ç»„ä»¶
    â”œâ”€â”€ TreeNode/
    â”‚   â”œâ”€â”€ TreeNode.vue
    â”‚   â”œâ”€â”€ TreeNode.types.ts
    â”‚   â””â”€â”€ README.md
    â””â”€â”€ TreeToolbar/
        â”œâ”€â”€ TreeToolbar.vue
        â”œâ”€â”€ TreeToolbar.types.ts
        â””â”€â”€ README.md
```

---

### ç»„ä»¶æ–‡ä»¶è§„èŒƒ

#### 1. ç»„ä»¶å®ç° (`[Component].vue`)

```vue
<!--
  ğŸ“¦ [ç»„ä»¶åç§°]
  
  åŠŸèƒ½ï¼š[ç®€è¦æè¿°]
  åˆ†ç±»ï¼šåŸºç¡€ç»„ä»¶ / å¤åˆç»„ä»¶
  ä¾èµ–ï¼š[åˆ—å‡ºä¾èµ–çš„å…¶ä»–ç»„ä»¶]
-->

<script setup lang="ts">
import type { [Component]Props, [Component]Emits } from './[Component].types'

// Props å®šä¹‰
const props = withDefaults(defineProps<[Component]Props>(), {
  // é»˜è®¤å€¼
})

// Emits å®šä¹‰
const emit = defineEmits<[Component]Emits>()

// ç»„ä»¶é€»è¾‘
</script>

<template>
  <!-- ç»„ä»¶æ¨¡æ¿ -->
</template>

<style scoped>
/* ç»„ä»¶æ ·å¼ */
</style>
```

#### 2. ç±»å‹å®šä¹‰ (`[Component].types.ts`)

```typescript
/**
 * ğŸ“¦ [ç»„ä»¶åç§°] - ç±»å‹å®šä¹‰
 */

/**
 * ç»„ä»¶ Props
 */
export interface [Component]Props {
  /**
   * [å±æ€§æè¿°]
   * @default [é»˜è®¤å€¼]
   */
  propName: string

  /**
   * [å¯é€‰å±æ€§æè¿°]
   */
  optionalProp?: number
}

/**
 * ç»„ä»¶ Emits
 */
export interface [Component]Emits {
  /**
   * [äº‹ä»¶æè¿°]
   * @param value - [å‚æ•°æè¿°]
   */
  (event: 'eventName', value: string): void
}

/**
 * ç»„ä»¶æš´éœ²çš„æ–¹æ³•ï¼ˆé€šè¿‡ defineExposeï¼‰
 */
export interface [Component]Expose {
  /**
   * [æ–¹æ³•æè¿°]
   */
  methodName: () => void
}

/**
 * å†…éƒ¨çŠ¶æ€ç±»å‹ï¼ˆå¦‚æœéœ€è¦å¯¼å‡ºï¼‰
 */
export interface [Component]State {
  // ...
}
```

#### 3. ç»„ä»¶æ–‡æ¡£ (`README.md`)

```markdown
# [ç»„ä»¶åç§°]

## ğŸ“‹ æ¦‚è¿°

[ç»„ä»¶çš„åŠŸèƒ½æè¿°]

## ğŸ“¦ åˆ†ç±»

- [x] åŸºç¡€ UI ç»„ä»¶
- [ ] å¤åˆç»„ä»¶

## ğŸ¯ ä½¿ç”¨åœºæ™¯

- åœºæ™¯ 1ï¼š[æè¿°]
- åœºæ™¯ 2ï¼š[æè¿°]

## ğŸ“– API

### Props

| å±æ€§å         | ç±»å‹     | é»˜è®¤å€¼ | å¿…å¡« | æè¿°   |
| -------------- | -------- | ------ | ---- | ------ |
| `propName`     | `string` | `''`   | æ˜¯   | [æè¿°] |
| `optionalProp` | `number` | `0`    | å¦   | [æè¿°] |

### Emits

| äº‹ä»¶å      | å‚æ•°              | æè¿°   |
| ----------- | ----------------- | ------ |
| `eventName` | `(value: string)` | [æè¿°] |

### Slots

| æ’æ§½å    | Props           | æè¿°     |
| --------- | --------------- | -------- |
| `default` | -               | é»˜è®¤æ’æ§½ |
| `footer`  | `{ data: any }` | åº•éƒ¨æ’æ§½ |

### Expose

| æ–¹æ³•å       | å‚æ•° | è¿”å›å€¼ | æè¿°   |
| ------------ | ---- | ------ | ------ |
| `methodName` | `()` | `void` | [æè¿°] |

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€ä½¿ç”¨

\`\`\`vue
<template>
<[Component]
prop-name="value"
@event-name="handleEvent"
/>
</template>

<script setup lang="ts">
const handleEvent = (value: string) => {
  console.log(value)
}
</script>

\`\`\`

### é«˜çº§ç”¨æ³•

\`\`\`vue
<template>
<[Component] v-bind="config">
<template #footer="{ data }">
{{ data }}
</template>
</[Component]>
</template>
\`\`\`

## ğŸ¨ æ ·å¼å®šåˆ¶

### CSS å˜é‡

| å˜é‡å              | é»˜è®¤å€¼ | æè¿°     |
| ------------------- | ------ | -------- |
| `--component-bg`    | `#fff` | èƒŒæ™¯è‰²   |
| `--component-color` | `#000` | æ–‡å­—é¢œè‰² |

### ç¤ºä¾‹

\`\`\`css
.custom-component {
--component-bg: #f0f0f0;
--component-color: #333;
}
\`\`\`

## ğŸ“¦ ä¾èµ–ç»„ä»¶

- `components/base/Icon` - å›¾æ ‡æ˜¾ç¤º
- `components/base/Button` - æŒ‰é’®æ“ä½œ

## âš ï¸ æ³¨æ„äº‹é¡¹

- æ³¨æ„äº‹é¡¹ 1
- æ³¨æ„äº‹é¡¹ 2

## ğŸ”„ æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-10-14)

- åˆå§‹ç‰ˆæœ¬
```

---

## ğŸš€ è¿ç§»è®¡åˆ’

### Phase 1: åˆ›å»ºæ–°ç›®å½•ç»“æ„ (1å¤©)

#### Step 1.1: åˆ›å»º pages ç›®å½•

```bash
cd /Users/cqw/Documents/github/acuityBookmarks/frontend/src

# åˆ›å»º pages ç›®å½•
mkdir -p pages/{popup,side-panel,management,auth,settings}

# ä¸ºæ¯ä¸ªé¡µé¢åˆ›å»º components ç›®å½•
mkdir -p pages/popup/components
mkdir -p pages/side-panel/components
mkdir -p pages/management/components
mkdir -p pages/auth/components
mkdir -p pages/settings/components
```

#### Step 1.2: åˆ›å»ºæ–°çš„ components ç»“æ„

```bash
# åˆ›å»ºåŸºç¡€ç»„ä»¶ç›®å½•
mkdir -p components/base
mkdir -p components/composite

# ç§»åŠ¨ç°æœ‰ ui ç»„ä»¶åˆ° baseï¼ˆä¿ç•™åŸæœ‰ ui ç›®å½•ä½œä¸ºè¿‡æ¸¡ï¼‰
# ï¼ˆæš‚æ—¶ä¸åˆ é™¤ï¼Œç­‰è¿ç§»å®Œæˆåå†æ¸…ç†ï¼‰
```

---

### Phase 2: è¿ç§»é¡µé¢æ–‡ä»¶ (2-3å¤©)

#### Step 2.1: è¿ç§» popup é¡µé¢

```bash
# ç§»åŠ¨æ–‡ä»¶
mv popup/Popup.vue pages/popup/
mv popup/main.ts pages/popup/
mv popup/popup.html pages/popup/index.html

# åˆ›å»º README
touch pages/popup/README.md
```

**æ›´æ–°å¯¼å…¥è·¯å¾„**:

```typescript
// æ—§è·¯å¾„
import Component from '@/components/...'

// æ–°è·¯å¾„
import Component from '@/components/base/...'
```

#### Step 2.2: è¿ç§»å…¶ä»–é¡µé¢

æŒ‰ç…§åŒæ ·çš„æ–¹å¼è¿ç§»ï¼š

- `side-panel/` â†’ `pages/side-panel/`
- `management/` â†’ `pages/management/`
- `auth/` â†’ `pages/auth/`
- `settings/` â†’ `pages/settings/`

#### Step 2.3: æ›´æ–° Vite é…ç½®

```typescript
// frontend/vite.config.ts
export default defineConfig({
  build: {
    rollupOptions: {
      input: {
        popup: resolve(__dirname, 'src/pages/popup/index.html'),
        sidePanel: resolve(__dirname, 'src/pages/side-panel/index.html'),
        management: resolve(__dirname, 'src/pages/management/index.html')
        // ...
      }
    }
  }
})
```

---

### Phase 3: é‡æ„ç»„ä»¶åº“ (1å‘¨)

#### Step 3.1: è¿ç§»åŸºç¡€ UI ç»„ä»¶

**ç»„ä»¶æ¸…å•** (27ä¸ª):

ä» `components/ui/` è¿ç§»åˆ° `components/base/`:

```bash
# æ‰¹é‡åˆ›å»ºç›®å½•
cd components/base
for component in Button Input Checkbox Icon Card Dialog Tooltip \
                Switch Chip Badge Avatar Dropdown Tabs List Grid \
                Divider Spinner ProgressBar Toast Overlay Spacer \
                AppBar Main SvgIcon EmojiIcon UrlInput ConfirmableDialog; do
  mkdir -p $component
done
```

**ä¸ºæ¯ä¸ªç»„ä»¶**:

1. ç§»åŠ¨ `.vue` æ–‡ä»¶åˆ°æ–°ç›®å½•
2. åˆ›å»º `.types.ts` æ–‡ä»¶
3. åˆ›å»º `README.md` æ–‡ä»¶
4. æ›´æ–°å¯¼å…¥è·¯å¾„

**ç¤ºä¾‹ï¼šButton ç»„ä»¶**

```bash
# 1. ç§»åŠ¨æ–‡ä»¶
cp components/ui/Button.vue components/base/Button/Button.vue

# 2. åˆ›å»ºç±»å‹æ–‡ä»¶
cat > components/base/Button/Button.types.ts << 'EOF'
/**
 * ğŸ“¦ Button - æŒ‰é’®ç»„ä»¶ç±»å‹å®šä¹‰
 */

export interface ButtonProps {
  /**
   * æŒ‰é’®ç±»å‹
   * @default 'primary'
   */
  variant?: 'primary' | 'secondary' | 'text' | 'outlined'

  /**
   * æŒ‰é’®å°ºå¯¸
   * @default 'md'
   */
  size?: 'sm' | 'md' | 'lg'

  /**
   * æ˜¯å¦ç¦ç”¨
   * @default false
   */
  disabled?: boolean

  /**
   * æ˜¯å¦åŠ è½½ä¸­
   * @default false
   */
  loading?: boolean

  /**
   * å›¾æ ‡åç§°ï¼ˆå·¦ä¾§ï¼‰
   */
  icon?: string

  /**
   * å›¾æ ‡åç§°ï¼ˆå³ä¾§ï¼‰
   */
  iconRight?: string
}

export interface ButtonEmits {
  /**
   * ç‚¹å‡»äº‹ä»¶
   */
  (event: 'click', e: MouseEvent): void
}
EOF

# 3. åˆ›å»º README
# ï¼ˆä½¿ç”¨ä¸Šé¢çš„æ¨¡æ¿ï¼‰
```

#### Step 3.2: é‡æ„å¤åˆç»„ä»¶

**å½“å‰å¤åˆç»„ä»¶è¯†åˆ«**:

```
ç°æœ‰ç»„ä»¶ â†’ æ–°ä½ç½®
â”œâ”€â”€ SimpleBookmarkTree.vue â†’ composite/BookmarkTree/BookmarkTree.vue
â”œâ”€â”€ SimpleTreeNode.vue â†’ composite/BookmarkTree/components/TreeNode/TreeNode.vue
â”œâ”€â”€ SmartBookmarkRecommendations.vue â†’ composite/BookmarkRecommendations/BookmarkRecommendations.vue
â””â”€â”€ PanelInlineSearch.vue â†’ composite/InlineSearch/InlineSearch.vue
```

**è¿ç§»æ­¥éª¤**:

1. **BookmarkTree ç»„ä»¶**

```bash
# åˆ›å»ºç›®å½•
mkdir -p components/composite/BookmarkTree/components/{TreeNode,TreeToolbar}

# è¿ç§»æ–‡ä»¶
mv components/SimpleBookmarkTree.vue \
   components/composite/BookmarkTree/BookmarkTree.vue

mv components/SimpleTreeNode.vue \
   components/composite/BookmarkTree/components/TreeNode/TreeNode.vue

# åˆ›å»ºç±»å‹æ–‡ä»¶
touch components/composite/BookmarkTree/BookmarkTree.types.ts
touch components/composite/BookmarkTree/components/TreeNode/TreeNode.types.ts

# åˆ›å»ºæ–‡æ¡£
touch components/composite/BookmarkTree/README.md
touch components/composite/BookmarkTree/components/TreeNode/README.md
```

2. **å…¶ä»–å¤åˆç»„ä»¶æŒ‰åŒæ ·æ–¹å¼å¤„ç†**

---

### Phase 4: åˆ›å»ºç»Ÿä¸€å¯¼å‡º (1å¤©)

#### åˆ›å»º `components/index.ts`

```typescript
/**
 * ğŸ§© ç»„ä»¶åº“ç»Ÿä¸€å¯¼å‡º
 */

// ===== åŸºç¡€ UI ç»„ä»¶ =====
export { default as Button } from './base/Button/Button.vue'
export { default as Input } from './base/Input/Input.vue'
export { default as Checkbox } from './base/Checkbox/Checkbox.vue'
export { default as Icon } from './base/Icon/Icon.vue'
export { default as Card } from './base/Card/Card.vue'
export { default as Dialog } from './base/Dialog/Dialog.vue'
export { default as Tooltip } from './base/Tooltip/Tooltip.vue'
// ... å…¶ä»–åŸºç¡€ç»„ä»¶

// ===== å¤åˆç»„ä»¶ =====
export { default as BookmarkTree } from './composite/BookmarkTree/BookmarkTree.vue'
export { default as SearchPanel } from './composite/SearchPanel/SearchPanel.vue'
export { default as BookmarkRecommendations } from './composite/BookmarkRecommendations/BookmarkRecommendations.vue'
export { default as InlineSearch } from './composite/InlineSearch/InlineSearch.vue'

// ===== ç±»å‹å¯¼å‡º =====
export type * from './base/Button/Button.types'
export type * from './base/Input/Input.types'
// ... å…¶ä»–ç±»å‹
```

#### ä½¿ç”¨ç¤ºä¾‹

```vue
<script setup lang="ts">
// ç»Ÿä¸€å¯¼å…¥
import { Button, Input, Icon } from '@/components'
import type { ButtonProps } from '@/components'
</script>
```

---

### Phase 5: æ›´æ–°å…¨å±€å¼•ç”¨ (2å¤©)

#### Step 5.1: æ›´æ–° tsconfig.json è·¯å¾„åˆ«å

```json
{
  "compilerOptions": {
    "paths": {
      "@/*": ["./src/*"],
      "@/components": ["./src/components/index.ts"],
      "@/components/*": ["./src/components/*"],
      "@/pages/*": ["./src/pages/*"]
    }
  }
}
```

#### Step 5.2: æ‰¹é‡æ›´æ–°å¯¼å…¥è·¯å¾„

ä½¿ç”¨è„šæœ¬æ‰¹é‡æ›¿æ¢ï¼š

```bash
# æŸ¥æ‰¾æ‰€æœ‰éœ€è¦æ›´æ–°çš„æ–‡ä»¶
find src -type f \( -name "*.vue" -o -name "*.ts" \) -exec grep -l "components/ui/" {} \;

# æ‰¹é‡æ›¿æ¢
find src -type f \( -name "*.vue" -o -name "*.ts" \) -exec sed -i '' 's|@/components/ui/|@/components/base/|g' {} \;
```

---

### Phase 6: æ¸…ç†æ—§ç›®å½• (1å¤©)

```bash
# ç¡®è®¤æ‰€æœ‰å¼•ç”¨å·²æ›´æ–°å
rm -rf popup/
rm -rf side-panel/
rm -rf management/
rm -rf auth/
rm -rf settings/
rm -rf components/ui/
```

---

## ğŸ“ ç»„ä»¶æ–‡æ¡£æ¨¡æ¿

### åŸºç¡€ç»„ä»¶æ¨¡æ¿

åˆ›å»ºè„šæ‰‹æ¶è„šæœ¬ `scripts/create-base-component.sh`:

```bash
#!/bin/bash

COMPONENT_NAME=$1

if [ -z "$COMPONENT_NAME" ]; then
  echo "Usage: ./create-base-component.sh <ComponentName>"
  exit 1
fi

DIR="frontend/src/components/base/$COMPONENT_NAME"
mkdir -p "$DIR"

# åˆ›å»º .vue æ–‡ä»¶
cat > "$DIR/$COMPONENT_NAME.vue" << EOF
<!--
  ğŸ“¦ $COMPONENT_NAME

  åŠŸèƒ½ï¼š[æè¿°]
  åˆ†ç±»ï¼šåŸºç¡€ UI ç»„ä»¶
-->

<script setup lang="ts">
import type { ${COMPONENT_NAME}Props, ${COMPONENT_NAME}Emits } from './${COMPONENT_NAME}.types'

const props = withDefaults(defineProps<${COMPONENT_NAME}Props>(), {
  // é»˜è®¤å€¼
})

const emit = defineEmits<${COMPONENT_NAME}Emits>()
</script>

<template>
  <div class="${COMPONENT_NAME,,}">
    <!-- ç»„ä»¶å†…å®¹ -->
  </div>
</template>

<style scoped>
.${COMPONENT_NAME,,} {
  /* ç»„ä»¶æ ·å¼ */
}
</style>
EOF

# åˆ›å»º .types.ts æ–‡ä»¶
cat > "$DIR/$COMPONENT_NAME.types.ts" << EOF
/**
 * ğŸ“¦ $COMPONENT_NAME - ç±»å‹å®šä¹‰
 */

export interface ${COMPONENT_NAME}Props {
  // Props å®šä¹‰
}

export interface ${COMPONENT_NAME}Emits {
  // Emits å®šä¹‰
}
EOF

# åˆ›å»º README.md
cat > "$DIR/README.md" << EOF
# $COMPONENT_NAME

## ğŸ“‹ æ¦‚è¿°

[ç»„ä»¶æè¿°]

## ğŸ“¦ åˆ†ç±»

- [x] åŸºç¡€ UI ç»„ä»¶

## ğŸ¯ ä½¿ç”¨åœºæ™¯

- åœºæ™¯ 1

## ğŸ“– API

### Props

| å±æ€§å | ç±»å‹ | é»˜è®¤å€¼ | å¿…å¡« | æè¿° |
|--------|------|--------|------|------|
| - | - | - | - | - |

### Emits

| äº‹ä»¶å | å‚æ•° | æè¿° |
|--------|------|------|
| - | - | - |

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

\`\`\`vue
<template>
  <$COMPONENT_NAME />
</template>
\`\`\`
EOF

echo "âœ… åŸºç¡€ç»„ä»¶ $COMPONENT_NAME åˆ›å»ºæˆåŠŸï¼"
echo "ğŸ“ ä½ç½®: $DIR"
```

### å¤åˆç»„ä»¶æ¨¡æ¿

åˆ›å»ºè„šæ‰‹æ¶è„šæœ¬ `scripts/create-composite-component.sh`:

```bash
#!/bin/bash

COMPONENT_NAME=$1

if [ -z "$COMPONENT_NAME" ]; then
  echo "Usage: ./create-composite-component.sh <ComponentName>"
  exit 1
fi

DIR="frontend/src/components/composite/$COMPONENT_NAME"
mkdir -p "$DIR/components"

# ç±»ä¼¼åŸºç¡€ç»„ä»¶ï¼Œä½†å¢åŠ  components ç›®å½•

echo "âœ… å¤åˆç»„ä»¶ $COMPONENT_NAME åˆ›å»ºæˆåŠŸï¼"
```

---

## âœ… éªŒè¯æ¸…å•

### è¿ç§»å®Œæˆåæ£€æŸ¥

- [ ] æ‰€æœ‰é¡µé¢æ–‡ä»¶å·²ç§»åŠ¨åˆ° `src/pages/`
- [ ] æ‰€æœ‰åŸºç¡€ç»„ä»¶å·²ç§»åŠ¨åˆ° `src/components/base/`
- [ ] æ‰€æœ‰å¤åˆç»„ä»¶å·²ç§»åŠ¨åˆ° `src/components/composite/`
- [ ] æ¯ä¸ªç»„ä»¶éƒ½æœ‰ `.types.ts` æ–‡ä»¶
- [ ] æ¯ä¸ªç»„ä»¶éƒ½æœ‰ `README.md` æ–‡ä»¶
- [ ] `components/index.ts` å¯¼å‡ºæ‰€æœ‰ç»„ä»¶
- [ ] æ—§ç›®å½•å·²åˆ é™¤
- [ ] æ‰€æœ‰å¯¼å…¥è·¯å¾„å·²æ›´æ–°
- [ ] TypeScript ç¼–è¯‘é€šè¿‡
- [ ] ESLint æ£€æŸ¥é€šè¿‡
- [ ] åº”ç”¨æ­£å¸¸è¿è¡Œ
- [ ] æ‰€æœ‰é¡µé¢åŠŸèƒ½æ­£å¸¸

---

## ğŸ¯ é¢„æœŸæˆæœ

### ç›®å½•å¯¹æ¯”

**ä¼˜åŒ–å‰**:

```
src/
â”œâ”€â”€ popup/              (æ··ä¹±)
â”œâ”€â”€ side-panel/         (æ··ä¹±)
â”œâ”€â”€ management/         (æ··ä¹±)
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/             (æ— æ–‡æ¡£)
â”‚   â””â”€â”€ ä¸šåŠ¡ç»„ä»¶.vue     (æ— åˆ†ç±»)
```

**ä¼˜åŒ–å**:

```
src/
â”œâ”€â”€ pages/              (æ¸…æ™°)
â”‚   â”œâ”€â”€ popup/          (æœ‰æ–‡æ¡£)
â”‚   â”œâ”€â”€ side-panel/     (æœ‰æ–‡æ¡£)
â”‚   â””â”€â”€ management/     (æœ‰æ–‡æ¡£)
â””â”€â”€ components/
    â”œâ”€â”€ base/           (27ä¸ªåŸºç¡€ç»„ä»¶ï¼Œæ¯ä¸ªæœ‰æ–‡æ¡£)
    â””â”€â”€ composite/      (4ä¸ªå¤åˆç»„ä»¶ï¼Œæ¯ä¸ªæœ‰æ–‡æ¡£)
```

### ç»„ä»¶ä½¿ç”¨ä½“éªŒ

**ä¼˜åŒ–å‰**:

```vue
<!-- ä¸æ¸…æ¥šç»„ä»¶ API -->
<Button />
<!-- ä¸çŸ¥é“æœ‰å“ªäº› props -->
```

**ä¼˜åŒ–å**:

```vue
<!-- å®Œæ•´çš„ç±»å‹æç¤ºå’Œæ–‡æ¡£ -->
<Button
  variant="primary"    <!-- è‡ªåŠ¨æç¤ºå¯é€‰å€¼ -->
  size="md"            <!-- è‡ªåŠ¨æç¤ºå¯é€‰å€¼ -->
  :loading="isLoading" <!-- ç±»å‹æ£€æŸ¥ -->
  @click="handleClick" <!-- äº‹ä»¶ç±»å‹æ£€æŸ¥ -->
/>
```

---

## ğŸ“… æ—¶é—´ä¼°ç®—

| é˜¶æ®µ     | ä»»åŠ¡           | é¢„è®¡æ—¶é—´  |
| -------- | -------------- | --------- |
| Phase 1  | åˆ›å»ºæ–°ç›®å½•ç»“æ„ | 1å¤©       |
| Phase 2  | è¿ç§»é¡µé¢æ–‡ä»¶   | 2-3å¤©     |
| Phase 3  | é‡æ„ç»„ä»¶åº“     | 1å‘¨       |
| Phase 4  | åˆ›å»ºç»Ÿä¸€å¯¼å‡º   | 1å¤©       |
| Phase 5  | æ›´æ–°å…¨å±€å¼•ç”¨   | 2å¤©       |
| Phase 6  | æ¸…ç†æ—§ç›®å½•     | 1å¤©       |
| **æ€»è®¡** |                | **2-3å‘¨** |

---

**ä¸‹ä¸€æ­¥**: å¼€å§‹æ‰§è¡Œ Phase 1 - åˆ›å»ºæ–°ç›®å½•ç»“æ„
