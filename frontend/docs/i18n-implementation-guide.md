# AcuityBookmarks å›½é™…åŒ–å®æ–½æŒ‡å—

## ğŸ“‹ ç›®å½•

1. [ç°çŠ¶åˆ†æ](#ç°çŠ¶åˆ†æ)
2. [å®æ–½æ–¹æ¡ˆ](#å®æ–½æ–¹æ¡ˆ)
3. [å¼€å‘è§„èŒƒ](#å¼€å‘è§„èŒƒ)
4. [å·¥å…·ä½¿ç”¨](#å·¥å…·ä½¿ç”¨)
5. [ç¿»è¯‘æµç¨‹](#ç¿»è¯‘æµç¨‹)
6. [è´¨é‡ä¿è¯](#è´¨é‡ä¿è¯)

---

## ğŸ” ç°çŠ¶åˆ†æ

### å·²æœ‰åŸºç¡€

âœ… **åŸºç¡€è®¾æ–½**
- Chrome i18n API å°è£… (`i18n-service.ts`)
- 7ç§è¯­è¨€ç›®å½•ç»“æ„ (zh_CN, zh_TW, en, ja, ko, de, es)
- Vue æŒ‡ä»¤æ”¯æŒ
- æ—¶é—´æ ¼å¼åŒ–å·²å›½é™…åŒ–

âœ… **æ”¯æŒè¯­è¨€**
- ğŸ‡¨ğŸ‡³ ç®€ä½“ä¸­æ–‡ (zh_CN)
- ğŸ‡¹ğŸ‡¼ ç¹ä½“ä¸­æ–‡ (zh_TW)
- ğŸ‡ºğŸ‡¸ è‹±æ–‡ (en)
- ğŸ‡¯ğŸ‡µ æ—¥æ–‡ (ja)
- ğŸ‡°ğŸ‡· éŸ©æ–‡ (ko)
- ğŸ‡©ğŸ‡ª å¾·æ–‡ (de)
- ğŸ‡ªğŸ‡¸ è¥¿ç­ç‰™æ–‡ (es)

### å­˜åœ¨é—®é¢˜

âŒ **è¦†ç›–ç‡ä½**
- ç°æœ‰ç¿»è¯‘é”®: ~30æ¡
- ä¼°è®¡éœ€è¦: ~500-800æ¡
- è¦†ç›–ç‡: <5%

âŒ **ä»£ç è´¨é‡**
- å¤§é‡ç¡¬ç¼–ç ä¸­æ–‡æ–‡æ¡ˆ
- ç¼ºå°‘ç»Ÿä¸€çš„æ–‡æ¡ˆç®¡ç†
- æ²¡æœ‰ç¿»è¯‘éªŒè¯æœºåˆ¶

âŒ **å¼€å‘ä½“éªŒ**
- ç¼ºå°‘è‡ªåŠ¨åŒ–å·¥å…·
- æ²¡æœ‰ç¿»è¯‘æå–æµç¨‹
- ç¼ºå°‘å¼€å‘è€…æ–‡æ¡£

---

## ğŸ¯ å®æ–½æ–¹æ¡ˆ

### é˜¶æ®µ 1: åŸºç¡€è®¾æ–½å®Œå–„ (1-2å¤©) âœ…

**ç›®æ ‡**: å»ºç«‹å®Œæ•´çš„å›½é™…åŒ–å·¥å…·é“¾

- [x] å¢å¼º i18n è¾…åŠ©å‡½æ•° (`i18n-helpers.ts`)
- [x] åˆ›å»ºæ–‡æ¡ˆæå–å·¥å…· (`i18n-extract.ts`)
- [x] åˆ›å»ºç¿»è¯‘éªŒè¯å·¥å…· (`i18n-validate.ts`)
- [ ] æ·»åŠ  npm scripts
- [ ] ç¼–å†™å¼€å‘æ–‡æ¡£

### é˜¶æ®µ 2: æ–‡æ¡ˆæå–ä¸æ•´ç† (2-3å¤©)

**ç›®æ ‡**: æå–æ‰€æœ‰ç¡¬ç¼–ç æ–‡æ¡ˆï¼Œå»ºç«‹å®Œæ•´çš„ç¿»è¯‘é”®ä½“ç³»

**æ­¥éª¤**:

1. **è‡ªåŠ¨æå–** (1å¤©)
   ```bash
   cd frontend
   bun run i18n:extract
   ```
   - æ‰«ææ‰€æœ‰ `.vue` å’Œ `.ts` æ–‡ä»¶
   - æå–ç¡¬ç¼–ç ä¸­æ–‡æ–‡æ¡ˆ
   - ç”Ÿæˆç¿»è¯‘é”®å»ºè®®
   - è¾“å‡ºå¾…ç¿»è¯‘åˆ—è¡¨

2. **äººå·¥æ•´ç†** (1å¤©)
   - å®¡æŸ¥æå–çš„æ–‡æ¡ˆ
   - åˆå¹¶é‡å¤æ–‡æ¡ˆ
   - ä¼˜åŒ–ç¿»è¯‘é”®å‘½å
   - åˆ†ç±»ç»„ç»‡ï¼ˆæŒ‰æ¨¡å—/åŠŸèƒ½ï¼‰

3. **ä»£ç é‡æ„** (1å¤©)
   - æ›¿æ¢ç¡¬ç¼–ç æ–‡æ¡ˆä¸ºç¿»è¯‘é”®
   - ä½¿ç”¨ `t()` å‡½æ•°
   - æµ‹è¯•åŠŸèƒ½å®Œæ•´æ€§

### é˜¶æ®µ 3: ç¿»è¯‘è¡¥å…¨ (3-5å¤©)

**ç›®æ ‡**: å®Œæˆæ‰€æœ‰è¯­è¨€çš„ç¿»è¯‘

**ä¼˜å…ˆçº§**:

1. **P0 - æ ¸å¿ƒåŠŸèƒ½** (å¿…é¡»)
   - å¯¼èˆªèœå•
   - æŒ‰é’®æ–‡æ¡ˆ
   - é”™è¯¯æç¤º
   - æˆåŠŸæ¶ˆæ¯

2. **P1 - é‡è¦åŠŸèƒ½** (åº”è¯¥)
   - è®¾ç½®é¡µé¢
   - å¸®åŠ©æ–‡æ¡£
   - è¡¨å•æ ‡ç­¾
   - å ä½ç¬¦æ–‡æœ¬

3. **P2 - è¾…åŠ©åŠŸèƒ½** (å¯ä»¥)
   - Tooltip æç¤º
   - è¯¦ç»†è¯´æ˜
   - ç¤ºä¾‹æ–‡æœ¬

**ç¿»è¯‘æ–¹å¼**:

- **ä¸­æ–‡ â†’ è‹±æ–‡**: äººå·¥ç¿»è¯‘ï¼ˆæ ¸å¿ƒå›¢é˜Ÿï¼‰
- **è‹±æ–‡ â†’ å…¶ä»–è¯­è¨€**: AI è¾…åŠ© + äººå·¥æ ¡å¯¹
  - ä½¿ç”¨ ChatGPT/Claude æ‰¹é‡ç¿»è¯‘
  - æ¯è¯­è€…æ ¡å¯¹ï¼ˆå¦‚æœ‰æ¡ä»¶ï¼‰
  - ç¤¾åŒºè´¡çŒ®ï¼ˆé•¿æœŸï¼‰

### é˜¶æ®µ 4: è´¨é‡ä¿è¯ (1-2å¤©)

**ç›®æ ‡**: ç¡®ä¿ç¿»è¯‘è´¨é‡å’Œå®Œæ•´æ€§

**æ£€æŸ¥é¡¹**:

- [ ] æ‰€æœ‰è¯­è¨€åŒ…é”®ä¸€è‡´
- [ ] æ— ç¼ºå¤±ç¿»è¯‘
- [ ] æ— ç©ºç¿»è¯‘
- [ ] å ä½ç¬¦æ­£ç¡®
- [ ] ä¸Šä¸‹æ–‡åˆé€‚
- [ ] æœ¯è¯­ç»Ÿä¸€

**å·¥å…·**:

```bash
# éªŒè¯ç¿»è¯‘å®Œæ•´æ€§
bun run i18n:validate

# æ£€æŸ¥æœªä½¿ç”¨çš„é”®
bun run i18n:unused

# ç”Ÿæˆç¿»è¯‘è¦†ç›–ç‡æŠ¥å‘Š
bun run i18n:coverage
```

### é˜¶æ®µ 5: æŒç»­ç»´æŠ¤ (é•¿æœŸ)

**ç›®æ ‡**: å»ºç«‹å¯æŒç»­çš„å›½é™…åŒ–æµç¨‹

**æµç¨‹**:

1. **æ–°åŠŸèƒ½å¼€å‘**
   - ä½¿ç”¨ç¿»è¯‘é”®ï¼Œä¸ç¡¬ç¼–ç 
   - åŒæ­¥æ›´æ–°æ‰€æœ‰è¯­è¨€åŒ…
   - PR ä¸­åŒ…å«ç¿»è¯‘æ›´æ–°

2. **å®šæœŸæ£€æŸ¥**
   - æ¯å‘¨è¿è¡Œ `i18n:validate`
   - æ¯æœˆå®¡æŸ¥ç¿»è¯‘è´¨é‡
   - æ”¶é›†ç”¨æˆ·åé¦ˆ

3. **ç¤¾åŒºè´¡çŒ®**
   - å¼€æ”¾ç¿»è¯‘è´¡çŒ®æ¸ é“
   - å»ºç«‹ç¿»è¯‘å®¡æ ¸æµç¨‹
   - æ„Ÿè°¢è´¡çŒ®è€…

---

## ğŸ“ å¼€å‘è§„èŒƒ

### 1. ç¿»è¯‘é”®å‘½åè§„èŒƒ

**æ ¼å¼**: `<æ¨¡å—>.<åŠŸèƒ½>.<ç±»å‹>`

**ç¤ºä¾‹**:

```typescript
// âœ… å¥½çš„å‘½å
'sidebar.bookmarks.title'          // ä¾§è¾¹æ  - ä¹¦ç­¾ - æ ‡é¢˜
'settings.general.save_button'     // è®¾ç½® - é€šç”¨ - ä¿å­˜æŒ‰é’®
'error.network.timeout'            // é”™è¯¯ - ç½‘ç»œ - è¶…æ—¶

// âŒ ä¸å¥½çš„å‘½å
'text1'                            // å¤ªæ¨¡ç³Š
'sidebar_bookmarks_title_text'     // å¤ªå†—é•¿
'ä¿å­˜'                             // ä½¿ç”¨ä¸­æ–‡
```

**åˆ†ç±»å‰ç¼€**:

- `common.*` - é€šç”¨æ–‡æ¡ˆï¼ˆæŒ‰é’®ã€æ ‡ç­¾ç­‰ï¼‰
- `sidebar.*` - ä¾§è¾¹æ 
- `settings.*` - è®¾ç½®é¡µé¢
- `popup.*` - å¼¹çª—
- `error.*` - é”™è¯¯æ¶ˆæ¯
- `success.*` - æˆåŠŸæ¶ˆæ¯
- `tooltip.*` - æç¤ºæ–‡æœ¬
- `placeholder.*` - å ä½ç¬¦

### 2. ä»£ç ä½¿ç”¨è§„èŒƒ

#### åœ¨ Vue ç»„ä»¶ä¸­

```vue
<script setup lang="ts">
import { useI18n } from '@/utils/i18n-helpers'

const { t } = useI18n()
</script>

<template>
  <div>
    <!-- âœ… æ¨èï¼šä½¿ç”¨ t() å‡½æ•° -->
    <h1>{{ t('sidebar.bookmarks.title') }}</h1>
    <button>{{ t('common.save') }}</button>
    
    <!-- âœ… å¸¦å ä½ç¬¦ -->
    <p>{{ t('bookmark.count', String(count)) }}</p>
    
    <!-- âŒ ç¦æ­¢ï¼šç¡¬ç¼–ç  -->
    <h1>ä¹¦ç­¾ç®¡ç†</h1>
  </div>
</template>
```

#### åœ¨ TypeScript ä¸­

```typescript
import { t } from '@/utils/i18n-helpers'

// âœ… æ¨è
const message = t('success.bookmark_created')
console.log(message)

// âœ… å¸¦å ä½ç¬¦
const errorMsg = t('error.invalid_url', url)

// âŒ ç¦æ­¢
const message = 'ä¹¦ç­¾åˆ›å»ºæˆåŠŸ'
```

#### åŠ¨æ€æ–‡æœ¬

```typescript
// âœ… æ¨èï¼šä½¿ç”¨æ˜ å°„
const statusMap: Record<string, string> = {
  pending: t('status.pending'),
  success: t('status.success'),
  failed: t('status.failed')
}

const statusText = statusMap[status]

// âŒ ç¦æ­¢ï¼šç¡¬ç¼–ç æ˜ å°„
const statusMap = {
  pending: 'å¤„ç†ä¸­',
  success: 'æˆåŠŸ',
  failed: 'å¤±è´¥'
}
```

### 3. ç¿»è¯‘æ–‡ä»¶è§„èŒƒ

#### messages.json æ ¼å¼

```json
{
  "key_name": {
    "message": "ç¿»è¯‘æ–‡æœ¬",
    "description": "ä¸Šä¸‹æ–‡è¯´æ˜ï¼ˆå¯é€‰ï¼‰"
  },
  
  "bookmark_count": {
    "message": "$1 ä¸ªä¹¦ç­¾",
    "description": "æ˜¾ç¤ºä¹¦ç­¾æ•°é‡ï¼Œ$1 æ˜¯æ•°å­—å ä½ç¬¦"
  },
  
  "welcome_user": {
    "message": "æ¬¢è¿ï¼Œ$1ï¼",
    "description": "æ¬¢è¿æ¶ˆæ¯ï¼Œ$1 æ˜¯ç”¨æˆ·å"
  }
}
```

#### å ä½ç¬¦ä½¿ç”¨

```json
{
  "single_placeholder": {
    "message": "ä½ æœ‰ $1 æ¡æ¶ˆæ¯"
  },
  
  "multiple_placeholders": {
    "message": "$1 åœ¨ $2 åˆ›å»ºäº† $3"
  }
}
```

```typescript
// ä½¿ç”¨
t('single_placeholder', '5')
t('multiple_placeholders', ['å¼ ä¸‰', '2025-01-01', 'æ–°ä¹¦ç­¾'])
```

### 4. ç‰¹æ®Šåœºæ™¯å¤„ç†

#### å¤æ•°å½¢å¼

```json
{
  "bookmark_count_zero": { "message": "æ²¡æœ‰ä¹¦ç­¾" },
  "bookmark_count_one": { "message": "1 ä¸ªä¹¦ç­¾" },
  "bookmark_count_other": { "message": "$1 ä¸ªä¹¦ç­¾" }
}
```

```typescript
function getBookmarkCountText(count: number): string {
  if (count === 0) return t('bookmark_count_zero')
  if (count === 1) return t('bookmark_count_one')
  return t('bookmark_count_other', String(count))
}
```

#### æ€§åˆ«/æ•¬è¯­

```json
{
  "greeting_formal": { "message": "æ‚¨å¥½" },
  "greeting_casual": { "message": "ä½ å¥½" }
}
```

#### RTL è¯­è¨€æ”¯æŒ

```vue
<script setup>
import { useI18n } from '@/utils/i18n-helpers'

const { isRTL } = useI18n()
</script>

<template>
  <div :dir="isRTL ? 'rtl' : 'ltr'">
    <!-- å†…å®¹ä¼šè‡ªåŠ¨é€‚é…æ–¹å‘ -->
    <!-- æ³¨æ„ï¼šå½“å‰ç‰ˆæœ¬ä¸æ”¯æŒ RTL è¯­è¨€ -->
  </div>
</template>
```

---

## ğŸ› ï¸ å·¥å…·ä½¿ç”¨

### 1. æå–ç¡¬ç¼–ç æ–‡æ¡ˆ

```bash
cd frontend
bun run i18n:extract
```

**è¾“å‡º**: `i18n-report.json`

```json
{
  "summary": {
    "totalFiles": 250,
    "hardcodedTexts": 450,
    "uniqueTexts": 320
  },
  "hardcodedTexts": [
    {
      "text": "ä¹¦ç­¾ç®¡ç†",
      "file": "/src/pages/sidebar.vue",
      "line": 42,
      "suggestedKey": "sidebar.title"
    }
  ]
}
```

### 2. éªŒè¯ç¿»è¯‘å®Œæ•´æ€§

```bash
bun run i18n:validate
```

**è¾“å‡º**:

```
âœ… æ‰€æœ‰ç¿»è¯‘éªŒè¯é€šè¿‡ï¼

æˆ–

âŒ å‘ç°ç¿»è¯‘é—®é¢˜:

âŒ ç¼ºå¤±ç¿»è¯‘ (15):
  - [ja] settings.tab.general
  - [ko] settings.tab.embeddings
  ...

âš ï¸ ç©ºç¿»è¯‘ (3):
  - [ar] common.save
  ...

ğŸ”§ å ä½ç¬¦ä¸åŒ¹é… (2):
  - [zh_TW] bookmark.count
    å ä½ç¬¦æ•°é‡ä¸åŒ¹é…: åŸºå‡† 1 vs å½“å‰ 0
```

### 3. æŸ¥æ‰¾æœªä½¿ç”¨çš„ç¿»è¯‘é”®

```bash
bun run i18n:unused
```

### 4. ç”Ÿæˆç¿»è¯‘è¦†ç›–ç‡æŠ¥å‘Š

```bash
bun run i18n:coverage
```

---

## ğŸŒ ç¿»è¯‘æµç¨‹

### æ–¹æ¡ˆ A: AI è¾…åŠ©ç¿»è¯‘ï¼ˆæ¨èï¼‰

**æ­¥éª¤**:

1. **å‡†å¤‡ä¸­æ–‡æ–‡æ¡ˆ**
   ```json
   {
     "sidebar.bookmarks.title": { "message": "ä¹¦ç­¾ç®¡ç†" },
     "common.save": { "message": "ä¿å­˜" },
     "common.cancel": { "message": "å–æ¶ˆ" }
   }
   ```

2. **ä½¿ç”¨ AI æ‰¹é‡ç¿»è¯‘**
   
   **Prompt æ¨¡æ¿**:
   ```
   è¯·å°†ä»¥ä¸‹ Chrome Extension çš„ä¸­æ–‡ç¿»è¯‘ä¸º [ç›®æ ‡è¯­è¨€]ã€‚
   ä¿æŒ JSON æ ¼å¼ï¼Œåªç¿»è¯‘ "message" å­—æ®µçš„å€¼ã€‚
   æ³¨æ„ï¼š
   - ä¿æŒå ä½ç¬¦ $1, $2 ç­‰ä¸å˜
   - ä½¿ç”¨è‡ªç„¶ã€åœ°é“çš„è¡¨è¾¾
   - ä¿æŒä¸“ä¸šæœ¯è¯­ä¸€è‡´æ€§
   
   [ç²˜è´´ JSON å†…å®¹]
   ```

3. **äººå·¥æ ¡å¯¹**
   - æ£€æŸ¥æœ¯è¯­ä¸€è‡´æ€§
   - éªŒè¯ä¸Šä¸‹æ–‡å‡†ç¡®æ€§
   - æµ‹è¯•å®é™…æ˜¾ç¤ºæ•ˆæœ

### æ–¹æ¡ˆ B: ç¤¾åŒºè´¡çŒ®

1. **åˆ›å»ºç¿»è¯‘ä»»åŠ¡**
   - åœ¨ GitHub Issues åˆ›å»ºç¿»è¯‘ä»»åŠ¡
   - æ ‡æ³¨è¯­è¨€å’Œä¼˜å…ˆçº§
   - æä¾›ä¸Šä¸‹æ–‡è¯´æ˜

2. **å®¡æ ¸æµç¨‹**
   - æ¯è¯­è€…å®¡æ ¸
   - æµ‹è¯•å®é™…æ•ˆæœ
   - åˆå¹¶ PR

---

## âœ… è´¨é‡ä¿è¯

### è‡ªåŠ¨åŒ–æ£€æŸ¥

**Pre-commit Hook**:

```bash
# .husky/pre-commit
bun run i18n:validate
```

**CI/CD Pipeline**:

```yaml
# .github/workflows/i18n-check.yml
name: I18n Check

on: [pull_request]

jobs:
  validate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: oven-sh/setup-bun@v1
      - run: cd frontend && bun install
      - run: cd frontend && bun run i18n:validate
```

### äººå·¥å®¡æ ¸æ¸…å•

- [ ] ç¿»è¯‘å‡†ç¡®æ€§
- [ ] ä¸Šä¸‹æ–‡é€‚é…
- [ ] æœ¯è¯­ä¸€è‡´æ€§
- [ ] è¯­æ³•æ­£ç¡®æ€§
- [ ] æ–‡åŒ–é€‚åº”æ€§
- [ ] UI æ˜¾ç¤ºæ•ˆæœ

### æµ‹è¯•æ–¹æ³•

1. **åˆ‡æ¢è¯­è¨€æµ‹è¯•**
   ```typescript
   // åœ¨æµè§ˆå™¨æ§åˆ¶å°
   chrome.i18n.getUILanguage() // æŸ¥çœ‹å½“å‰è¯­è¨€
   ```

2. **è§†è§‰æµ‹è¯•**
   - æ£€æŸ¥æ–‡æœ¬æ˜¯å¦è¢«æˆªæ–­
   - æ£€æŸ¥å¸ƒå±€æ˜¯å¦é”™ä¹±
   - æ£€æŸ¥ RTL è¯­è¨€æ–¹å‘

3. **åŠŸèƒ½æµ‹è¯•**
   - æ‰€æœ‰åŠŸèƒ½åœ¨å„è¯­è¨€ä¸‹æ­£å¸¸å·¥ä½œ
   - é”™è¯¯æ¶ˆæ¯æ­£ç¡®æ˜¾ç¤º
   - è¡¨å•éªŒè¯æ¶ˆæ¯æ­£ç¡®

---

## ğŸ“š å‚è€ƒèµ„æº

### å®˜æ–¹æ–‡æ¡£

- [Chrome Extension i18n](https://developer.chrome.com/docs/extensions/reference/i18n/)
- [Intl API](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl)

### æœ€ä½³å®è·µ

- [Google I18n Style Guide](https://developers.google.com/style/translation)
- [Microsoft Localization Style Guides](https://www.microsoft.com/en-us/language)

### å·¥å…·æ¨è

- **ç¿»è¯‘**: ChatGPT, Claude, DeepL
- **æœ¯è¯­ç®¡ç†**: Notion, Airtable
- **åä½œ**: GitHub, Crowdin

---

## ğŸ¯ é‡Œç¨‹ç¢‘

### Sprint 1 (Week 1-2)
- [x] å®Œå–„åŸºç¡€è®¾æ–½
- [ ] æå–æ‰€æœ‰æ–‡æ¡ˆ
- [ ] å®Œæˆä¸­è‹±æ–‡ç¿»è¯‘

### Sprint 2 (Week 3-4)
- [ ] å®Œæˆå…¶ä»–è¯­è¨€ç¿»è¯‘
- [ ] è´¨é‡ä¿è¯
- [ ] æ–‡æ¡£å®Œå–„

### Sprint 3 (Week 5+)
- [ ] ç”¨æˆ·æµ‹è¯•
- [ ] åé¦ˆæ”¶é›†
- [ ] æŒç»­ä¼˜åŒ–

---

**æœ€åæ›´æ–°**: 2025-01-02
**ç»´æŠ¤è€…**: AcuityBookmarks Team
