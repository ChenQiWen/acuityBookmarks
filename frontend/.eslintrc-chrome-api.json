{
  "extends": ["./eslint.config.js"],
  "rules": {
    // Chrome API 特定规则
    "no-restricted-syntax": [
      "error",
      {
        "selector": "CallExpression[callee.object.name='chrome'][callee.property.name='bookmarks'] > :not(MemberExpression[object.name='chrome'][property.name='runtime'])",
        "message": "❌ 禁止在前端组件中直接调用 chrome.bookmarks.*，请使用 chrome.runtime.sendMessage 通知 Background Script"
      },
      {
        "selector": "CallExpression[callee.object.name='localStorage']",
        "message": "❌ Chrome Extension 中禁止使用 localStorage，请使用 chrome.storage.local"
      },
      {
        "selector": "CallExpression[callee.object.name='sessionStorage']",
        "message": "❌ Chrome Extension 中禁止使用 sessionStorage，请使用 chrome.storage.session"
      }
    ],
    
    // 强制使用 Zod 校验外部数据
    "no-restricted-imports": [
      "error",
      {
        "paths": [
          {
            "name": "@supabase/supabase-js",
            "message": "请使用 @/infrastructure/supabase/client 而不是直接导入"
          }
        ]
      }
    ]
  }
}
