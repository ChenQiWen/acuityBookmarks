/**
 * ğŸ§  æ™ºèƒ½å¤šè¯­è¨€å­—ä½“ç³»ç»Ÿ
 * è§£å†³ç”¨æˆ·å†…å®¹å¤šè¯­è¨€æ··åˆçš„é—®é¢˜
 */

/* ========================================
 * æ™ºèƒ½å­—ä½“æ ˆ - è‡ªåŠ¨å¤„ç†å¤šè¯­è¨€æ··åˆå†…å®¹
 * ======================================== */

:root {
  /* ç³»ç»Ÿç•Œé¢å­—ä½“ - æ ¹æ®ç”¨æˆ·è¯­è¨€è®¾ç½® */
  --font-family-ui: var(--font-family-dynamic);

  /* ç”¨æˆ·å†…å®¹æ™ºèƒ½å­—ä½“æ ˆ - å¤„ç†å¤šè¯­è¨€æ··åˆ */
  --font-family-content:
    'NotoSansSC', /* ç®€ä½“ä¸­æ–‡ä¼˜å…ˆ */ 'NotoSansTC', /* ç¹ä½“ä¸­æ–‡ */ 'NotoSansJP',
    /* æ—¥æ–‡ */ 'NotoSansKR', /* éŸ©æ–‡ */ 'NotoSansArabic',
    /* é˜¿æ‹‰ä¼¯æ–‡ */ 'NotoSans', /* è‹±æ–‡å’Œå…¶ä»–æ‹‰ä¸å­—ç¬¦ */ -apple-system,
    /* macOS ç³»ç»Ÿå­—ä½“ */ BlinkMacSystemFont, /* Chrome macOS */ 'Segoe UI',
    /* Windows */ 'PingFang SC', /* macOS ä¸­æ–‡ */ 'Microsoft YaHei',
    /* Windows ä¸­æ–‡ */ 'Hiragino Kaku Gothic ProN',
    /* macOS æ—¥æ–‡ */ 'Malgun Gothic', /* Windows éŸ©æ–‡ */ system-ui,
    /* ç°ä»£æµè§ˆå™¨ */ sans-serif; /* é€šç”¨å¤‡é€‰ */

  /* åŒºåŸŸç‰¹å®šå­—ä½“æ ˆ */
  --font-family-bookmark-title: var(--font-family-content);
  --font-family-bookmark-url: 'Consolas', 'Monaco', 'SF Mono', monospace;
  --font-family-folder-name: var(--font-family-content);

  /* ç‰¹æ®Šå†…å®¹å­—ä½“ */
  --font-family-search-text: var(--font-family-content);
  --font-family-tooltip: var(--font-family-content);
}

/* ========================================
 * åº”ç”¨ç­–ç•¥ - ç³»ç»ŸUI vs ç”¨æˆ·å†…å®¹
 * ======================================== */

/* ç³»ç»Ÿç•Œé¢å…ƒç´  - ä½¿ç”¨ç”¨æˆ·é€‰æ‹©çš„è¯­è¨€å­—ä½“ */
.system-ui,
.navigation,
.toolbar,
.menu,
.dialog-header,
.button,
.form-label,
.status-text {
  font-family: var(--font-family-ui) !important;
}

/* ç”¨æˆ·å†…å®¹åŒºåŸŸ - ä½¿ç”¨æ™ºèƒ½å¤šè¯­è¨€å­—ä½“æ ˆ */
.user-content,
.bookmark-item,
.bookmark-title,
.bookmark-list,
.folder-item,
.folder-name,
.search-results,
.content-area {
  font-family: var(--font-family-content) !important;
}

/* ç‰¹å®šå…ƒç´ çš„å­—ä½“åº”ç”¨ */
.bookmark-title {
  font-family: var(--font-family-bookmark-title);
}

.bookmark-url,
.url-display {
  font-family: var(--font-family-bookmark-url);
  font-size: 0.9em;
  color: var(--color-text-secondary);
}

.folder-name {
  font-family: var(--font-family-folder-name);
}

.search-input,
.search-results {
  font-family: var(--font-family-search-text);
}

/* ========================================
 * è¯­è¨€æ£€æµ‹å¢å¼ºå­—ä½“æ ˆ
 * ======================================== */

/* è‡ªåŠ¨è¯­è¨€æ£€æµ‹å­—ä½“åº”ç”¨ */
:lang(zh) {
  --font-family-content:
    'NotoSansSC', 'NotoSansTC', 'NotoSansJP', 'NotoSansKR', 'NotoSans',
    system-ui, sans-serif;
}
:lang(zh-CN) {
  --font-family-content:
    'NotoSansSC', 'NotoSansTC', 'NotoSansJP', 'NotoSansKR', 'NotoSans',
    system-ui, sans-serif;
}
:lang(zh-TW) {
  --font-family-content:
    'NotoSansTC', 'NotoSansSC', 'NotoSansJP', 'NotoSansKR', 'NotoSans',
    system-ui, sans-serif;
}
:lang(ja) {
  --font-family-content:
    'NotoSansJP', 'NotoSansSC', 'NotoSansTC', 'NotoSansKR', 'NotoSans',
    system-ui, sans-serif;
}
:lang(ko) {
  --font-family-content:
    'NotoSansKR', 'NotoSansJP', 'NotoSansSC', 'NotoSansTC', 'NotoSans',
    system-ui, sans-serif;
}
:lang(ar) {
  --font-family-content:
    'NotoSansArabic', 'NotoSans', 'NotoSansSC', 'NotoSansTC', system-ui,
    sans-serif;
}
:lang(en) {
  --font-family-content:
    'NotoSans', 'NotoSansSC', 'NotoSansTC', 'NotoSansJP', 'NotoSansKR',
    system-ui, sans-serif;
}

/* ========================================
 * æ™ºèƒ½æ–‡æœ¬æ¸²æŸ“ä¼˜åŒ–
 * ======================================== */

.user-content {
  /* ä¼˜åŒ–å¤šè¯­è¨€æ–‡æœ¬æ¸²æŸ“ */
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* å¤„ç†æ··åˆè¯­è¨€çš„è¡Œé«˜ */
  line-height: 1.6;

  /* å­—ç¬¦é—´è·ä¼˜åŒ– */
  letter-spacing: 0.01em;
}

/* ç‰¹å®šè¯­è¨€å­—ç¬¦çš„ä¼˜åŒ– */
.cjk-text {
  /* ä¸­æ—¥éŸ©æ–‡å­—ä¼˜åŒ– */
  word-break: break-word;
  overflow-wrap: break-word;
}

.rtl-text {
  /* é˜¿æ‹‰ä¼¯æ–‡ç­‰ä»å³åˆ°å·¦çš„æ–‡å­— */
  direction: rtl;
  text-align: right;
}

/* ========================================
 * è°ƒè¯•å’Œå¼€å‘è¾…åŠ©
 * ======================================== */

.font-debug {
  position: relative;
}

.font-debug::after {
  content: attr(data-detected-lang);
  position: absolute;
  top: -20px;
  left: 0;
  font-size: 10px;
  color: #666;
  background: rgba(255, 255, 0, 0.3);
  padding: 2px 4px;
  border-radius: 2px;
  pointer-events: none;
}
