# QuickAddBookmarkDialog ç»„ä»¶

å¿«é€Ÿæ·»åŠ ä¹¦ç­¾å¯¹è¯æ¡†ç»„ä»¶ï¼Œç±»ä¼¼äº Chrome åŸç”Ÿçš„æ·»åŠ ä¹¦ç­¾ç•Œé¢ã€‚

## åŠŸèƒ½ç‰¹æ€§

- âœ… æ˜¾ç¤ºç½‘ç«™å›¾æ ‡å’Œé¡µé¢ä¿¡æ¯
- âœ… å¯ç¼–è¾‘ä¹¦ç­¾åç§°
- âœ… é€‰æ‹©ç›®æ ‡æ–‡ä»¶å¤¹ï¼ˆæ”¯æŒå±‚çº§æ˜¾ç¤ºï¼‰
- âœ… **AI è‡ªåŠ¨åˆ†ç±»å»ºè®®**ï¼ˆå¦‚æœå¯ç”¨ï¼‰
- âœ… å›è½¦å¿«é€Ÿç¡®è®¤
- âœ… ESC å¿«é€Ÿå–æ¶ˆ

## ä½¿ç”¨æ–¹å¼

### å…¨å±€ä½¿ç”¨ï¼ˆæ¨èï¼‰

```vue
<!-- åœ¨é¡µé¢æ ¹ç»„ä»¶ä¸­æ·»åŠ  -->
<template>
  <GlobalQuickAddBookmark />
</template>
```

### æ‰‹åŠ¨ä½¿ç”¨

```vue
<template>
  <QuickAddBookmarkDialog
    :show="showDialog"
    :title="pageTitle"
    :url="pageUrl"
    :fav-icon-url="favIconUrl"
    :enable-a-i="true"
    @update:show="showDialog = $event"
    @confirm="handleConfirm"
  />
</template>

<script setup>
import { ref } from 'vue'
import { QuickAddBookmarkDialog } from '@/components'

const showDialog = ref(false)
const pageTitle = ref('ç¤ºä¾‹é¡µé¢')
const pageUrl = ref('https://example.com')
const favIconUrl = ref('')

function handleConfirm(data) {
  console.log('æ·»åŠ ä¹¦ç­¾ï¼š', data)
  // data = { title, url, folderId }
}
</script>
```

## Props

| å±æ€§         | ç±»å‹      | é»˜è®¤å€¼  | è¯´æ˜                 |
| ------------ | --------- | ------- | -------------------- |
| `show`       | `boolean` | `false` | æ˜¯å¦æ˜¾ç¤ºå¯¹è¯æ¡†       |
| `title`      | `string`  | `''`    | ä¹¦ç­¾æ ‡é¢˜             |
| `url`        | `string`  | `''`    | ä¹¦ç­¾ URL             |
| `favIconUrl` | `string`  | `''`    | ç½‘ç«™å›¾æ ‡ URL         |
| `enableAI`   | `boolean` | `true`  | æ˜¯å¦å¯ç”¨ AI è‡ªåŠ¨åˆ†ç±» |

## Events

| äº‹ä»¶          | å‚æ•°                       | è¯´æ˜               |
| ------------- | -------------------------- | ------------------ |
| `update:show` | `boolean`                  | å¯¹è¯æ¡†æ˜¾ç¤ºçŠ¶æ€å˜åŒ– |
| `confirm`     | `{ title, url, folderId }` | ç”¨æˆ·ç¡®è®¤æ·»åŠ        |

## AI è‡ªåŠ¨åˆ†ç±»

å½“ `enableAI` ä¸º `true` æ—¶ï¼Œç»„ä»¶ä¼šè‡ªåŠ¨è°ƒç”¨ AI æœåŠ¡åˆ†æä¹¦ç­¾å†…å®¹ï¼Œå¹¶å»ºè®®åˆé€‚çš„æ–‡ä»¶å¤¹ã€‚

**å·¥ä½œæµç¨‹ï¼š**

1. å¯¹è¯æ¡†æ‰“å¼€
2. åå°è°ƒç”¨ `aiAppService.categorizeBookmark()`
3. æ ¹æ®åˆ†ç±»ç»“æœæŸ¥æ‰¾åŒ¹é…çš„æ–‡ä»¶å¤¹
4. è‡ªåŠ¨é€‰ä¸­å»ºè®®çš„æ–‡ä»¶å¤¹
5. æ˜¾ç¤º AI å»ºè®®æ ‡è¯†

**å¦‚æœæ–‡ä»¶å¤¹ä¸å­˜åœ¨ï¼š**

- æ˜¾ç¤ºè­¦å‘Šä¿¡æ¯ï¼ˆåç»­å¯æ”¯æŒè‡ªåŠ¨åˆ›å»ºï¼‰

## è§¦å‘æ–¹å¼

### æ–¹å¼ 1ï¼šå¿«æ·é”®

**Mac/Windows:** `Alt+K`

ğŸ’¡ **ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªå¿«æ·é”®ï¼Ÿ**

- âœ… **æ ¼å¼ä¸€è‡´**ï¼šä¸æˆ‘ä»¬å…¶ä»–å¿«æ·é”®ï¼ˆAlt+A/B/Sï¼‰ä¿æŒä¸€è‡´
- âœ… **ç®€å•å¯é **ï¼šé¿å… manifest è§£æé”™è¯¯
- âœ… **ä¸å†²çª**ï¼šChrome åŸç”Ÿä¸ä½¿ç”¨ Alt+K
- âœ… **æ˜“è®°æ˜“æŒ‰**ï¼šK = "å¿«"é€Ÿæ·»åŠ ï¼Œä½ç½®æ–¹ä¾¿

### æ–¹å¼ 2ï¼šå³é”®èœå•

1. åœ¨é¡µé¢ä»»æ„ä½ç½®å³é”®
2. é€‰æ‹©"æ·»åŠ åˆ°ä¹¦ç­¾..."

### æ–¹å¼ 3ï¼šåœ¨é“¾æ¥ä¸Šå³é”®

1. åœ¨é“¾æ¥ä¸Šå³é”®
2. é€‰æ‹©"æ·»åŠ åˆ°ä¹¦ç­¾..."
3. ä¼šè‡ªåŠ¨å¡«å……é“¾æ¥åœ°å€

## æ ·å¼

å‚è€ƒ Chrome åŸç”Ÿæ·»åŠ ä¹¦ç­¾å¯¹è¯æ¡†è®¾è®¡ï¼š

- ç®€æ´æ¸…æ™°çš„å¸ƒå±€
- æ˜æ˜¾çš„ç½‘ç«™å›¾æ ‡
- å¯è§çš„ AI å»ºè®®ï¼ˆç»¿è‰²é«˜äº®ï¼‰
- æ ‡å‡†çš„ç¡®è®¤/å–æ¶ˆæŒ‰é’®

## æŠ€æœ¯å®ç°

### æ–‡ä»¶å¤¹åŠ è½½

```typescript
await chrome.bookmarks.getTree()
// é€’å½’éå†ï¼Œæ”¶é›†æ‰€æœ‰æ–‡ä»¶å¤¹
// æ ¼å¼ï¼šæŠ€æœ¯ > å‰ç«¯ > React
```

### AI åˆ†ç±»

```typescript
const result = await aiAppService.categorizeBookmark({
  title: '...',
  url: '...'
})
// è¿”å›ï¼š{ category: 'æŠ€æœ¯', provider: 'cloudflare' }
```

### åˆ›å»ºä¹¦ç­¾

```typescript
await chrome.runtime.sendMessage({
  type: 'CREATE_BOOKMARK',
  data: { title, url, parentId }
})
```

## æ³¨æ„äº‹é¡¹

1. **éœ€è¦æƒé™**ï¼š`bookmarks` æƒé™ï¼ˆå·²åœ¨ manifest.json ä¸­é…ç½®ï¼‰
2. **AI ä¾èµ–**ï¼šéœ€è¦åç«¯ Cloudflare Workers AI æœåŠ¡å¯ç”¨
3. **å¼‚æ­¥æ“ä½œ**ï¼šAI åˆ†ç±»éœ€è¦ 1-3 ç§’ï¼Œä¼šæ˜¾ç¤ºåŠ è½½çŠ¶æ€

## åç»­æ”¹è¿›

- [ ] æ”¯æŒè‡ªåŠ¨åˆ›å»ºä¸å­˜åœ¨çš„æ–‡ä»¶å¤¹
- [ ] æ”¯æŒè®°å¿†ç”¨æˆ·ä¹ æƒ¯ï¼ˆdomain â†’ æ–‡ä»¶å¤¹æ˜ å°„ï¼‰
- [ ] æ”¯æŒæ‰¹é‡æ·»åŠ ä¹¦ç­¾
- [ ] æ”¯æŒè‡ªå®šä¹‰å¿«æ·é”®
